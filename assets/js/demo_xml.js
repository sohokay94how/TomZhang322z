!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(_,t){var c=[],f=_.document,h=c.slice,m=c.concat,s=c.push,l=c.indexOf,i={},d=i.toString,g=i.hasOwnProperty,C={},e="1.12.4",N=function(e,t){return new N.fn.init(e,t)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,r=/-([\da-z])/gi,a=function(e,t){return t.toUpperCase()};function v(e){var t=!!e&&"length"in e&&e.length,i=N.type(e);return"function"!==i&&!N.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}N.fn=N.prototype={jquery:e,constructor:N,selector:"",length:0,toArray:function(){return h.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:h.call(this)},pushStack:function(e){var t=N.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return N.each(this,e)},map:function(i){return this.pushStack(N.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:c.sort,splice:c.splice},N.extend=N.fn.extend=function(){var e,t,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[s]||{},s++),"object"==typeof a||N.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(o=arguments[s]))for(n in o)e=a[n],a!==(i=o[n])&&(d&&i&&(N.isPlainObject(i)||(t=N.isArray(i)))?(r=t?(t=!1,e&&N.isArray(e)?e:[]):e&&N.isPlainObject(e)?e:{},a[n]=N.extend(d,r,i)):void 0!==i&&(a[n]=i));return a},N.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===N.type(e)},isArray:Array.isArray||function(e){return"array"===N.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!N.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==N.type(e)||e.nodeType||N.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(!C.ownFirst)for(t in e)return g.call(e,t);for(t in e);return void 0===t||g.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[d.call(e)]||"object":typeof e},globalEval:function(e){e&&N.trim(e)&&(_.execScript||function(e){_.eval.call(_,e)})(e)},camelCase:function(e){return e.replace(o,"ms-").replace(r,a)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,n=0;if(v(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(n,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(v(Object(e))?N.merge(i,"string"==typeof e?[e]:e):s.call(i,e)),i},inArray:function(e,t,i){var n;if(t){if(l)return l.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;)e[o++]=t[n++];if(i!=i)for(;void 0!==t[n];)e[o++]=t[n++];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,r=e.length,a=!i;o<r;o++)!t(e[o],o)!==a&&n.push(e[o]);return n},map:function(e,t,i){var n,o,r=0,a=[];if(v(e))for(n=e.length;r<n;r++)null!=(o=t(e[r],r,i))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,i))&&a.push(o);return m.apply([],a)},guid:1,proxy:function(e,t){var i,n,o;return"string"==typeof t&&(o=e[t],t=e,e=o),N.isFunction(e)?(i=h.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(h.call(arguments)))}).guid=e.guid=e.guid||N.guid++,n):void 0},now:function(){return+new Date},support:C}),"function"==typeof Symbol&&(N.fn[Symbol.iterator]=c[Symbol.iterator]),N.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var u=function(i){var e,f,w,r,o,m,c,g,x,l,d,b,D,a,k,v,s,h,y,_="sizzle"+1*new Date,$=i.document,C=0,n=0,N=oe(),u=oe(),T=oe(),p=function(e,t){return e===t&&(d=!0),0},A={}.hasOwnProperty,t=[],S=t.pop,L=t.push,E=t.push,M=t.slice,F=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j="\\["+B+"*("+O+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+B+"*\\]",H=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",G=new RegExp(B+"+","g"),q=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),z=new RegExp("^"+B+"*,"+B+"*"),R=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),P=new RegExp(H),X=new RegExp("^"+O+"$"),V={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},U=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Z=/'|\\/g,ee=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),te=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},ie=function(){b()};try{E.apply(t=M.call($.childNodes),$.childNodes),t[$.childNodes.length].nodeType}catch(we){E={apply:t.length?function(e,t){L.apply(e,M.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function ne(e,t,i,n){var o,r,a,s,l,d,h,c,u=t&&t.ownerDocument,p=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return i;if(!n&&((t?t.ownerDocument||t:$)!==D&&b(t),t=t||D,k)){if(11!==p&&(d=K.exec(e)))if(o=d[1]){if(9===p){if(!(a=t.getElementById(o)))return i;if(a.id===o)return i.push(a),i}else if(u&&(a=u.getElementById(o))&&y(t,a)&&a.id===o)return i.push(a),i}else{if(d[2])return E.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&f.getElementsByClassName&&t.getElementsByClassName)return E.apply(i,t.getElementsByClassName(o)),i}if(f.qsa&&!T[e+" "]&&(!v||!v.test(e))){if(1!==p)u=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(Z,"\\$&"):t.setAttribute("id",s=_),r=(h=m(e)).length,l=X.test(s)?"#"+s:"[id='"+s+"']";r--;)h[r]=l+" "+fe(h[r]);c=h.join(","),u=Q.test(e)&&ue(t.parentNode)||t}if(c)try{return E.apply(i,u.querySelectorAll(c)),i}catch(N){}finally{s===_&&t.removeAttribute("id")}}}return g(e.replace(q,"$1"),t,i,n)}function oe(){var i=[];return function n(e,t){return i.push(e+" ")>w.cacheLength&&delete n[i.shift()],n[e+" "]=t}}function re(e){return e[_]=!0,e}function ae(e){var t=D.createElement("div");try{return!!e(t)}catch(f){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var i=e.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=t}function le(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function ce(a){return re(function(r){return r=+r,re(function(e,t){for(var i,n=a([],e.length,r),o=n.length;o--;)e[i=n[o]]&&(e[i]=!(t[i]=e[i]))})})}function ue(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in f=ne.support={},o=ne.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},b=ne.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:$;return n!==D&&9===n.nodeType&&n.documentElement&&(a=(D=n).documentElement,k=!o(D),(i=D.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ie,!1):i.attachEvent&&i.attachEvent("onunload",ie)),f.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=ae(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=Y.test(D.getElementsByClassName),f.getById=ae(function(e){return a.appendChild(e).id=_,!D.getElementsByName||!D.getElementsByName(_).length}),f.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&k){var i=t.getElementById(e);return i?[i]:[]}},w.filter.ID=function(e){var t=e.replace(ee,te);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var i=e.replace(ee,te);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===i}}),w.find.TAG=f.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;i=r[o++];)1===i.nodeType&&n.push(i);return n},w.find.CLASS=f.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&k?t.getElementsByClassName(e):void 0},s=[],v=[],(f.qsa=Y.test(D.querySelectorAll))&&(ae(function(e){a.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+B+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+_+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]")}),ae(function(e){var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+B+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(f.matchesSelector=Y.test(h=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ae(function(e){f.disconnectedMatch=h.call(e,"div"),h.call(e,"[s!='']:x"),s.push("!=",H)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=Y.test(a.compareDocumentPosition),y=t||Y.test(a.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},p=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===i?e===D||e.ownerDocument===$&&y($,e)?-1:t===D||t.ownerDocument===$&&y($,t)?1:l?F(l,e)-F(l,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e===D?-1:t===D?1:o?-1:r?1:l?F(l,e)-F(l,t):0;if(o===r)return le(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;a[n]===s[n];)n++;return n?le(a[n],s[n]):a[n]===$?-1:s[n]===$?1:0}),D},ne.matches=function(e,t){return ne(e,null,null,t)},ne.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&b(e),t=t.replace(W,"='$1']"),f.matchesSelector&&k&&!T[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var i=h.call(e,t);if(i||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return 0<ne(t,D,null,[e]).length},ne.contains=function(e,t){return(e.ownerDocument||e)!==D&&b(e),y(e,t)},ne.attr=function(e,t){(e.ownerDocument||e)!==D&&b(e);var i=w.attrHandle[t.toLowerCase()],n=i&&A.call(w.attrHandle,t.toLowerCase())?i(e,t,!k):void 0;return void 0!==n?n:f.attributes||!k?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},ne.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ne.uniqueSort=function(e){var t,i=[],n=0,o=0;if(d=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(p),d){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return l=null,e},r=ne.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(w=ne.selectors={cacheLength:50,createPseudo:re,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,te),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ne.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ne.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&P.test(i)&&(t=m(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(i,n,o){return function(e){var t=ne.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===o:"!="===n?t!==o:"^="===n?o&&0===t.indexOf(o):"*="===n?o&&-1<t.indexOf(o):"$="===n?o&&t.slice(-o.length)===o:"~="===n?-1<(" "+t.replace(G," ")+" ").indexOf(o):"|="===n&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,e,t,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),$="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,i){var n,o,r,a,s,l,d=v!==y?"nextSibling":"previousSibling",h=e.parentNode,c=$&&e.nodeName.toLowerCase(),u=!i&&!$,p=!1;if(h){if(v){for(;d;){for(a=e;a=a[d];)if($?a.nodeName.toLowerCase()===c:1===a.nodeType)return!1;l=d="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?h.firstChild:h.lastChild],y&&u){for(p=(s=(n=(o=(r=(a=h)[_]||(a[_]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===C&&n[1])&&n[2],a=s&&h.childNodes[s];a=++s&&a&&a[d]||(p=s=0)||l.pop();)if(1===a.nodeType&&++p&&a===e){o[f]=[C,s,p];break}}else if(u&&(p=s=(n=(o=(r=(a=e)[_]||(a[_]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===C&&n[1]),!1===p)for(;(a=++s&&a&&a[d]||(p=s=0)||l.pop())&&(($?a.nodeName.toLowerCase()!==c:1!==a.nodeType)||!++p||(u&&((o=(r=a[_]||(a[_]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]=[C,p]),a!==e)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,r){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||ne.error("unsupported pseudo: "+e);return a[_]?a(r):1<a.length?(t=[e,e,"",r],w.setFilters.hasOwnProperty(e.toLowerCase())?re(function(e,t){for(var i,n=a(e,r),o=n.length;o--;)e[i=F(e,n[o])]=!(t[i]=n[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:re(function(e){var n=[],o=[],s=c(e.replace(q,"$1"));return s[_]?re(function(e,t,i,n){for(var o,r=s(e,null,n,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,i){return n[0]=e,s(n,null,i,o),n[0]=null,!o.pop()}}),has:re(function(t){return function(e){return 0<ne(t,e).length}}),contains:re(function(t){return t=t.replace(ee,te),function(e){return-1<(e.textContent||e.innerText||r(e)).indexOf(t)}}),lang:re(function(i){return X.test(i||"")||ne.error("unsupported lang: "+i),i=i.replace(ee,te).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return U.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ce(function(){return[0]}),last:ce(function(e,t){return[t-1]}),eq:ce(function(e,t,i){return[i<0?i+t:i]}),even:ce(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:ce(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:ce(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:ce(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=he(e);function pe(){}function fe(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function me(s,e,t){var l=e.dir,d=t&&"parentNode"===l,h=n++;return e.first?function(e,t,i){for(;e=e[l];)if(1===e.nodeType||d)return s(e,t,i)}:function(e,t,i){var n,o,r,a=[C,h];if(i){for(;e=e[l];)if((1===e.nodeType||d)&&s(e,t,i))return!0}else for(;e=e[l];)if(1===e.nodeType||d){if((n=(o=(r=e[_]||(e[_]={}))[e.uniqueID]||(r[e.uniqueID]={}))[l])&&n[0]===C&&n[1]===h)return a[2]=n[2];if((o[l]=a)[2]=s(e,t,i))return!0}}}function ge(o){return 1<o.length?function(e,t,i){for(var n=o.length;n--;)if(!o[n](e,t,i))return!1;return!0}:o[0]}function ve(e,t,i,n,o){for(var r,a=[],s=0,l=e.length,d=null!=t;s<l;s++)(r=e[s])&&(i&&!i(r,n,o)||(a.push(r),d&&t.push(s)));return a}function ye(f,m,g,v,y,e){return v&&!v[_]&&(v=ye(v)),y&&!y[_]&&(y=ye(y,e)),re(function(e,t,i,n){var o,r,a,s=[],l=[],d=t.length,h=e||function p(e,t,i){for(var n=0,o=t.length;n<o;n++)ne(e,t[n],i);return i}(m||"*",i.nodeType?[i]:i,[]),c=!f||!e&&m?h:ve(h,s,f,i,n),u=g?y||(e?f:d||v)?[]:t:c;if(g&&g(c,u,i,n),v)for(o=ve(u,l),v(o,[],i,n),r=o.length;r--;)(a=o[r])&&(u[l[r]]=!(c[l[r]]=a));if(e){if(y||f){if(y){for(o=[],r=u.length;r--;)(a=u[r])&&o.push(c[r]=a);y(null,u=[],o,n)}for(r=u.length;r--;)(a=u[r])&&-1<(o=y?F(e,a):s[r])&&(e[o]=!(t[o]=a))}}else u=ve(u===t?u.splice(d,u.length):u),y?y(null,t,u,n):E.apply(t,u)})}function $e(e){for(var o,t,i,n=e.length,r=w.relative[e[0].type],a=r||w.relative[" "],s=r?1:0,l=me(function(e){return e===o},a,!0),d=me(function(e){return-1<F(o,e)},a,!0),h=[function(e,t,i){var n=!r&&(i||t!==x)||((o=t).nodeType?l(e,t,i):d(e,t,i));return o=null,n}];s<n;s++)if(t=w.relative[e[s].type])h=[me(ge(h),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[_]){for(i=++s;i<n&&!w.relative[e[i].type];i++);return ye(1<s&&ge(h),1<s&&fe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(q,"$1"),t,s<i&&$e(e.slice(s,i)),i<n&&$e(e=e.slice(i)),i<n&&fe(e))}h.push(t)}return ge(h)}return pe.prototype=w.filters=w.pseudos,w.setFilters=new pe,m=ne.tokenize=function(e,t){var i,n,o,r,a,s,l,d=u[e+" "];if(d)return t?0:d.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(r in i&&!(n=z.exec(a))||(n&&(a=a.slice(n[0].length)||a),s.push(o=[])),i=!1,(n=R.exec(a))&&(i=n.shift(),o.push({value:i,type:n[0].replace(q," ")}),a=a.slice(i.length)),w.filter)!(n=V[r].exec(a))||l[r]&&!(n=l[r](n))||(i=n.shift(),o.push({value:i,type:r,matches:n}),a=a.slice(i.length));if(!i)break}return t?a.length:a?ne.error(e):u(e,s).slice(0)},c=ne.compile=function(e,t){var i,n=[],o=[],r=T[e+" "];if(!r){for(t||(t=m(e)),i=t.length;i--;)(r=$e(t[i]))[_]?n.push(r):o.push(r);(r=T(e,function a(g,v){var y=0<v.length,$=0<g.length,e=function(e,t,i,n,o){var r,a,s,l=0,d="0",h=e&&[],c=[],u=x,p=e||$&&w.find.TAG("*",o),f=C+=null==u?1:Math.random()||.1,m=p.length;for(o&&(x=t===D||t||o);d!==m&&null!=(r=p[d]);d++){if($&&r){for(a=0,t||r.ownerDocument===D||(b(r),i=!k);s=g[a++];)if(s(r,t||D,i)){n.push(r);break}o&&(C=f)}y&&((r=!s&&r)&&l--,e&&h.push(r))}if(l+=d,y&&d!==l){for(a=0;s=v[a++];)s(h,c,t,i);if(e){if(0<l)for(;d--;)h[d]||c[d]||(c[d]=S.call(n));c=ve(c)}E.apply(n,c),o&&!e&&0<c.length&&1<l+v.length&&ne.uniqueSort(n)}return o&&(C=f,x=u),h};return y?re(e):e}(o,n))).selector=e}return r},g=ne.select=function(e,t,i,n){var o,r,a,s,l,d="function"==typeof e&&e,h=!n&&m(e=d.selector||e);if(i=i||[],1===h.length){if(2<(r=h[0]=h[0].slice(0)).length&&"ID"===(a=r[0]).type&&f.getById&&9===t.nodeType&&k&&w.relative[r[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ee,te),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=V.needsContext.test(e)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(n=l(a.matches[0].replace(ee,te),Q.test(r[0].type)&&ue(t.parentNode)||t))){if(r.splice(o,1),!(e=n.length&&fe(r)))return E.apply(i,n),i;break}}return(d||c(e,h))(n,t,!k,i,!t||Q.test(e)&&ue(t.parentNode)||t),i},f.sortStable=_.split("").sort(p).join("")===_,f.detectDuplicates=!!d,b(),f.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||se("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||se("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||se(I,function(e,t,i){var n;return i?void 0:!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ne}(_);N.find=u,N.expr=u.selectors,N.expr[":"]=N.expr.pseudos,N.uniqueSort=N.unique=u.uniqueSort,N.text=u.getText,N.isXMLDoc=u.isXML,N.contains=u.contains;var p=function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&N(e).is(i))break;n.push(e)}return n},y=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},$=N.expr.match.needsContext,T=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(e,i,n){if(N.isFunction(i))return N.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return N.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(w.test(i))return N.filter(i,e,n);i=N.filter(i,e)}return N.grep(e,function(e){return-1<N.inArray(e,i)!==n})}N.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?N.find.matchesSelector(n,e)?[n]:[]:N.find.matches(e,N.grep(t,function(e){return 1===e.nodeType}))},N.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(N(e).filter(function(){for(t=0;t<o;t++)if(N.contains(n[t],this))return!0}));for(t=0;t<o;t++)N.find(e,n[t],i);return(i=this.pushStack(1<o?N.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&$.test(e)?N(e):e||[],!1).length}});var b,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(N.fn.init=function(e,t,i){var n,o;if(!e)return this;if(i=i||b,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):N.isFunction(e)?"undefined"!=typeof i.ready?i.ready(e):e(N):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),N.makeArray(e,this));if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:D.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof N?t[0]:t,N.merge(this,N.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),T.test(n[1])&&N.isPlainObject(t))for(n in t)N.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((o=f.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return b.find(e);this.length=1,this[0]=o}return this.context=f,this.selector=e,this}).prototype=N.fn,b=N(f);var k=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function S(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}N.fn.extend({has:function(e){var t,i=N(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(N.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,r=[],a=$.test(e)||"string"!=typeof e?N(e,t||this.context):0;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?-1<a.index(i):1===i.nodeType&&N.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(1<r.length?N.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?N.inArray(this[0],N(e)):N.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(N.uniqueSort(N.merge(this.get(),N(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),N.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return p(e,"parentNode")},parentsUntil:function(e,t,i){return p(e,"parentNode",i)},next:function(e){return S(e,"nextSibling")},prev:function(e){return S(e,"previousSibling")},nextAll:function(e){return p(e,"nextSibling")},prevAll:function(e){return p(e,"previousSibling")},nextUntil:function(e,t,i){return p(e,"nextSibling",i)},prevUntil:function(e,t,i){return p(e,"previousSibling",i)},siblings:function(e){return y((e.parentNode||{}).firstChild,e)},children:function(e){return y(e.firstChild)},contents:function(e){return N.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:N.merge([],e.childNodes)}},function(n,o){N.fn[n]=function(e,t){var i=N.map(this,o,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=N.filter(t,i)),1<this.length&&(A[n]||(i=N.uniqueSort(i)),k.test(n)&&(i=i.reverse())),this.pushStack(i)}});var L,E,M=/\S+/g;function F(){f.addEventListener?(f.removeEventListener("DOMContentLoaded",I),_.removeEventListener("load",I)):(f.detachEvent("onreadystatechange",I),_.detachEvent("onload",I))}function I(){(f.addEventListener||"load"===_.event.type||"complete"===f.readyState)&&(F(),N.ready())}for(E in N.Callbacks=function(n){n="string"==typeof n?function h(e){var i={};return N.each(e.match(M)||[],function(e,t){i[t]=!0}),i}(n):N.extend({},n);var o,e,t,i,r=[],a=[],s=-1,l=function(){for(i=n.once,t=o=!0;a.length;s=-1)for(e=a.shift();++s<r.length;)!1===r[s].apply(e[0],e[1])&&n.stopOnFalse&&(s=r.length,e=!1);n.memory||(e=!1),o=!1,i&&(r=e?[]:"")},d={add:function(){return r&&(e&&!o&&(s=r.length-1,a.push(e)),function i(e){N.each(e,function(e,t){N.isFunction(t)?n.unique&&d.has(t)||r.push(t):t&&t.length&&"string"!==N.type(t)&&i(t)})}(arguments),e&&!o&&l()),this},remove:function(){return N.each(arguments,function(e,t){for(var i;-1<(i=N.inArray(t,r,i));)r.splice(i,1),i<=s&&s--}),this},has:function(e){return e?-1<N.inArray(e,r):0<r.length},empty:function(){return r&&(r=[]),this},disable:function(){return i=a=[],r=e="",this},disabled:function(){return!r},lock:function(){return i=!0,e||d.disable(),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),o||l()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!t}};return d},N.extend({Deferred:function(e){var r=[["resolve","done",N.Callbacks("once memory"),"resolved"],["reject","fail",N.Callbacks("once memory"),"rejected"],["notify","progress",N.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return N.Deferred(function(n){N.each(r,function(e,t){var i=N.isFunction(o[e])&&o[e];s[t[1]](function(){var e=i&&i.apply(this,arguments);e&&N.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this===a?n.promise():this,i?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?N.extend(e,a):a}},s={};return a.pipe=a.then,N.each(r,function(e,t){var i=t[2],n=t[3];a[t[1]]=i.add,n&&i.add(function(){o=n},r[1^e][2].disable,r[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=i.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var o,t,i,n=0,r=h.call(arguments),a=r.length,s=1!==a||e&&N.isFunction(e.promise)?a:0,l=1===s?e:N.Deferred(),d=function(t,i,n){return function(e){i[t]=this,n[t]=1<arguments.length?h.call(arguments):e,n===o?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(1<a)for(o=new Array(a),t=new Array(a),i=new Array(a);n<a;n++)r[n]&&N.isFunction(r[n].promise)?r[n].promise().progress(d(n,t,o)).done(d(n,i,r)).fail(l.reject):--s;return s||l.resolveWith(i,r),l.promise()}}),N.fn.ready=function(e){return N.ready.promise().done(e),this},N.extend({isReady:!1,readyWait:1,holdReady:function(e){e?N.readyWait++:N.ready(!0)},ready:function(e){(!0===e?--N.readyWait:N.isReady)||((N.isReady=!0)!==e&&0<--N.readyWait||(L.resolveWith(f,[N]),N.fn.triggerHandler&&(N(f).triggerHandler("ready"),N(f).off("ready"))))}}),N.ready.promise=function(e){if(!L)if(L=N.Deferred(),"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll)_.setTimeout(N.ready);else if(f.addEventListener)f.addEventListener("DOMContentLoaded",I),_.addEventListener("load",I);else{f.attachEvent("onreadystatechange",I),_.attachEvent("onload",I);var t=!1;try{t=null==_.frameElement&&f.documentElement}catch(h){}t&&t.doScroll&&function i(){if(!N.isReady){try{t.doScroll("left")}catch(e){return _.setTimeout(i,50)}F(),N.ready()}}()}return L.promise(e)},N.ready.promise(),N(C))break;C.ownFirst="0"===E,C.inlineBlockNeedsLayout=!1,N(function(){var e,t,i,n;(i=f.getElementsByTagName("body")[0])&&i.style&&(t=f.createElement("div"),(n=f.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",C.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=f.createElement("div");C.deleteExpando=!0;try{delete e.test}catch(t){C.deleteExpando=!1}e=null}();var B,O=function(e){var t=N.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)},j=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/([A-Z])/g;function G(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(H,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:j.test(i)?N.parseJSON(i):i)}catch(h){}N.data(e,t,i)}else i=void 0}return i}function q(e){var t;for(t in e)if(("data"!==t||!N.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function z(e,t,i,n){if(O(e)){var o,r,a=N.expando,s=e.nodeType,l=s?N.cache:e,d=s?e[a]:e[a]&&a;if(d&&l[d]&&(n||l[d].data)||void 0!==i||"string"!=typeof t)return d||(d=s?e[a]=c.pop()||N.guid++:a),l[d]||(l[d]=s?{}:{toJSON:N.noop}),"object"!=typeof t&&"function"!=typeof t||(n?l[d]=N.extend(l[d],t):l[d].data=N.extend(l[d].data,t)),r=l[d],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[N.camelCase(t)]=i),"string"==typeof t?null==(o=r[t])&&(o=r[N.camelCase(t)]):o=r,o}}function R(e,t,i){if(O(e)){var n,o,r=e.nodeType,a=r?N.cache:e,s=r?e[N.expando]:N.expando;if(a[s]){if(t&&(n=i?a[s]:a[s].data)){o=(t=N.isArray(t)?t.concat(N.map(t,N.camelCase)):t in n?[t]:(t=N.camelCase(t))in n?[t]:t.split(" ")).length;for(;o--;)delete n[t[o]];if(i?!q(n):!N.isEmptyObject(n))return}(i||(delete a[s].data,q(a[s])))&&(r?N.cleanData([e],!0):C.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}N.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?N.cache[e[N.expando]]:e[N.expando])&&!q(e)},data:function(e,t,i){return z(e,t,i)},removeData:function(e,t){return R(e,t)},_data:function(e,t,i){return z(e,t,i,!0)},_removeData:function(e,t){return R(e,t,!0)}}),N.fn.extend({data:function(e,t){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0!==e)return"object"==typeof e?this.each(function(){N.data(this,e)}):1<arguments.length?this.each(function(){N.data(this,e,t)}):r?G(r,e,N.data(r,e)):void 0;if(this.length&&(o=N.data(r),1===r.nodeType&&!N._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(0===(n=a[i].name).indexOf("data-")&&G(r,n=N.camelCase(n.slice(5)),o[n]));N._data(r,"parsedAttrs",!0)}return o},removeData:function(e){return this.each(function(){N.removeData(this,e)})}}),N.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=N._data(e,t),i&&(!n||N.isArray(i)?n=N._data(e,t,N.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=N.queue(e,t),n=i.length,o=i.shift(),r=N._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,function(){N.dequeue(e,t)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return N._data(e,i)||N._data(e,i,{empty:N.Callbacks("once memory").add(function(){N._removeData(e,t+"queue"),N._removeData(e,i)})})}}),N.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?N.queue(this[0],t):void 0===i?this:this.each(function(){var e=N.queue(this,t,i);N._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&N.dequeue(this,t)})},dequeue:function(e){return this.each(function(){N.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=N.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=N._data(r[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(t)}}),C.shrinkWrapBlocks=function(){return null!=B?B:(B=!1,(t=f.getElementsByTagName("body")[0])&&t.style?(e=f.createElement("div"),(i=f.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(f.createElement("div")).style.width="5px",B=3!==e.offsetWidth),t.removeChild(i),B):void 0);var e,t,i};var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,P=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),X=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,"none"===N.css(e,"display")||!N.contains(e.ownerDocument,e)};function U(e,t,i,n){var o,r=1,a=20,s=n?function(){return n.cur()}:function(){return N.css(e,t,"")},l=s(),d=i&&i[3]||(N.cssNumber[t]?"":"px"),h=(N.cssNumber[t]||"px"!==d&&+l)&&P.exec(N.css(e,t));if(h&&h[3]!==d)for(d=d||h[3],i=i||[],h=+l||1;h/=r=r||".5",N.style(e,t,h+d),r!==(r=s()/l)&&1!==r&&--a;);return i&&(h=+h||+l||0,o=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=d,n.start=h,n.end=o)),o}var J,Y,K,Q=function(e,t,i,n,o,r,a){var s=0,l=e.length,d=null==i;if("object"===N.type(i))for(s in o=!0,i)Q(e,t,s,i[s],!0,r,a);else if(void 0!==n&&(o=!0,N.isFunction(n)||(a=!0),d&&(t=a?(t.call(e,n),null):(d=t,function(e,t,i){return d.call(N(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return o?e:d?t.call(e):l?t(e[0],i):r},Z=/^(?:checkbox|radio)$/i,ee=/<([\w:-]+)/,te=/^$|\/(?:java|ecma)script/i,ie=/^\s+/,ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function oe(e){var t=ne.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}J=f.createElement("div"),Y=f.createDocumentFragment(),K=f.createElement("input"),J.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",C.leadingWhitespace=3===J.firstChild.nodeType,C.tbody=!J.getElementsByTagName("tbody").length,C.htmlSerialize=!!J.getElementsByTagName("link").length,C.html5Clone="<:nav></:nav>"!==f.createElement("nav").cloneNode(!0).outerHTML,K.type="checkbox",K.checked=!0,Y.appendChild(K),C.appendChecked=K.checked,J.innerHTML="<textarea>x</textarea>",C.noCloneChecked=!!J.cloneNode(!0).lastChild.defaultValue,Y.appendChild(J),(K=f.createElement("input")).setAttribute("type","radio"),K.setAttribute("checked","checked"),K.setAttribute("name","t"),J.appendChild(K),C.checkClone=J.cloneNode(!0).cloneNode(!0).lastChild.checked,C.noCloneEvent=!!J.addEventListener,J[N.expando]=1,C.attributes=!J.getAttribute(N.expando);var re={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:C.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function we(e,t){var i,n,o=0,r="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[o]);o++)!t||N.nodeName(n,t)?r.push(n):N.merge(r,we(n,t));return void 0===t||t&&N.nodeName(e,t)?N.merge([e],r):r}function ae(e,t){for(var i,n=0;null!=(i=e[n]);n++)N._data(i,"globalEval",!t||N._data(t[n],"globalEval"))}re.optgroup=re.option,re.tbody=re.tfoot=re.colgroup=re.caption=re.thead,re.th=re.td;var se=/<|&#?\w+;/,le=/<tbody/i;function de(e){Z.test(e.type)&&(e.defaultChecked=e.checked)}function he(e,t,i,n,o){for(var r,a,s,l,d,h,c,u=e.length,p=oe(t),f=[],m=0;m<u;m++)if((a=e[m])||0===a)if("object"===N.type(a))N.merge(f,a.nodeType?[a]:a);else if(se.test(a)){for(l=l||p.appendChild(t.createElement("div")),d=(ee.exec(a)||["",""])[1].toLowerCase(),c=re[d]||re._default,l.innerHTML=c[1]+N.htmlPrefilter(a)+c[2],r=c[0];r--;)l=l.lastChild;if(!C.leadingWhitespace&&ie.test(a)&&f.push(t.createTextNode(ie.exec(a)[0])),!C.tbody)for(r=(a="table"!==d||le.test(a)?"<table>"!==c[1]||le.test(a)?0:l:l.firstChild)&&a.childNodes.length;r--;)N.nodeName(h=a.childNodes[r],"tbody")&&!h.childNodes.length&&a.removeChild(h);for(N.merge(f,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=p.lastChild}else f.push(t.createTextNode(a));for(l&&p.removeChild(l),C.appendChecked||N.grep(we(f,"input"),de),m=0;a=f[m++];)if(n&&-1<N.inArray(a,n))o&&o.push(a);else if(s=N.contains(a.ownerDocument,a),l=we(p.appendChild(a),"script"),s&&ae(l),i)for(r=0;a=l[r++];)te.test(a.type||"")&&i.push(a);return l=null,p}!function(){var e,t,i=f.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(C[e]=t in _)||(i.setAttribute(t,"t"),C[e]=!1===i.attributes[t].expando);i=null}();var ce=/^(?:input|select|textarea)$/i,ue=/^key/,pe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fe=/^(?:focusinfocus|focusoutblur)$/,me=/^([^.]*)(?:\.(.+)|)/;function ge(){return!0}function ve(){return!1}function ye(){try{return f.activeElement}catch(_){}}function $e(e,t,i,n,o,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)$e(e,s,i,n,t[s],r);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=ve;else if(!o)return e;return 1===r&&(a=o,(o=function(e){return N().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=N.guid++)),e.each(function(){N.event.add(this,t,o,n,i)})}N.event={global:{},add:function(e,t,i,n,o){var r,a,s,l,d,h,c,u,p,f,m,g=N._data(e);if(g){for(i.handler&&(i=(l=i).handler,o=l.selector),i.guid||(i.guid=N.guid++),(a=g.events)||(a=g.events={}),(h=g.handle)||((h=g.handle=function(e){return void 0===N||e&&N.event.triggered===e.type?void 0:N.event.dispatch.apply(h.elem,arguments)}).elem=e),s=(t=(t||"").match(M)||[""]).length;s--;)p=m=(r=me.exec(t[s])||[])[1],f=(r[2]||"").split(".").sort(),p&&(d=N.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=N.event.special[p]||{},c=N.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&N.expr.match.needsContext.test(o),namespace:f.join(".")},l),(u=a[p])||((u=a[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,h)||(e.addEventListener?e.addEventListener(p,h,!1):e.attachEvent&&e.attachEvent("on"+p,h))),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),o?u.splice(u.delegateCount++,0,c):u.push(c),N.event.global[p]=!0);e=null}},remove:function(e,t,i,n,o){var r,a,s,l,d,h,c,u,p,f,m,g=N.hasData(e)&&N._data(e);if(g&&(h=g.events)){for(d=(t=(t||"").match(M)||[""]).length;d--;)if(p=m=(s=me.exec(t[d])||[])[1],f=(s[2]||"").split(".").sort(),p){for(c=N.event.special[p]||{},u=h[p=(n?c.delegateType:c.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=u.length;r--;)a=u[r],!o&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(u.splice(r,1),a.selector&&u.delegateCount--,c.remove&&c.remove.call(e,a));l&&!u.length&&(c.teardown&&!1!==c.teardown.call(e,f,g.handle)||N.removeEvent(e,p,g.handle),delete h[p])}else for(p in h)N.event.remove(e,p+t[d],i,n,!0);N.isEmptyObject(h)&&(delete g.handle,N._removeData(e,"events"))}},trigger:function(e,t,i,n){var o,r,a,s,l,d,h,c=[i||f],u=g.call(e,"type")?e.type:e,p=g.call(e,"namespace")?e.namespace.split("."):[];if(a=d=i=i||f,3!==i.nodeType&&8!==i.nodeType&&!fe.test(u+N.event.triggered)&&(-1<u.indexOf(".")&&(u=(p=u.split(".")).shift(),p.sort()),r=u.indexOf(":")<0&&"on"+u,(e=e[N.expando]?e:new N.Event(u,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:N.makeArray(t,[e]),l=N.event.special[u]||{},n||!l.trigger||!1!==l.trigger.apply(i,t))){if(!n&&!l.noBubble&&!N.isWindow(i)){for(s=l.delegateType||u,fe.test(s+u)||(a=a.parentNode);a;a=a.parentNode)c.push(a),d=a;d===(i.ownerDocument||f)&&c.push(d.defaultView||d.parentWindow||_)}for(h=0;(a=c[h++])&&!e.isPropagationStopped();)e.type=1<h?s:l.bindType||u,(o=(N._data(a,"events")||{})[e.type]&&N._data(a,"handle"))&&o.apply(a,t),(o=r&&a[r])&&o.apply&&O(a)&&(e.result=o.apply(a,t),!1===e.result&&e.preventDefault());if(e.type=u,!n&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(c.pop(),t))&&O(i)&&r&&i[u]&&!N.isWindow(i)){(d=i[r])&&(i[r]=null),N.event.triggered=u;try{i[u]()}catch(v){}N.event.triggered=void 0,d&&(i[r]=d)}return e.result}},dispatch:function(e){e=N.event.fix(e);var t,i,n,o,r,a=[],s=h.call(arguments),l=(N._data(this,"events")||{})[e.type]||[],d=N.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,e)){for(a=N.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((N.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;i<s;i++)void 0===n[o=(r=t[i]).selector+" "]&&(n[o]=r.needsContext?-1<N(o,this).index(l):N.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&a.push({elem:l,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[N.expando])return e;var t,i,n,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=pe.test(o)?this.mouseHooks:ue.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new N.Event(r),t=n.length;t--;)e[i=n[t]]=r[i];return e.target||(e.target=r.srcElement||f),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(n=e.target.ownerDocument||f).documentElement,i=n.body,e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ye()&&this.focus)try{return this.focus(),!1}catch(_){}},delegateType:"focusin"},blur:{trigger:function(){return this===ye()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return N.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return N.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var n=N.extend(new N.Event,i,{type:e,isSimulated:!0});N.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}},N.removeEvent=f.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t;e.detachEvent&&("undefined"==typeof e[n]&&(e[n]=null),e.detachEvent(n,i))},N.Event=function(e,t){return this instanceof N.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ge:ve):this.type=e,t&&N.extend(this,t),this.timeStamp=e&&e.timeStamp||N.now(),void(this[N.expando]=!0)):new N.Event(e,t)},N.Event.prototype={constructor:N.Event,isDefaultPrevented:ve,isPropagationStopped:ve,isImmediatePropagationStopped:ve,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ge,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ge,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ge,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},N.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){N.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||N.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=o),t}}}),C.submit||(N.event.special.submit={setup:function(){return!N.nodeName(this,"form")&&void N.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=N.nodeName(t,"input")||N.nodeName(t,"button")?N.prop(t,"form"):void 0;i&&!N._data(i,"submit")&&(N.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),N._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&N.event.simulate("submit",this.parentNode,e))},teardown:function(){return!N.nodeName(this,"form")&&void N.event.remove(this,"._submit")}}),C.change||(N.event.special.change={setup:function(){return ce.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(N.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),N.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),N.event.simulate("change",this,e)})),!1):void N.event.add(this,"beforeactivate._change",function(e){var t=e.target;ce.test(t.nodeName)&&!N._data(t,"change")&&(N.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||N.event.simulate("change",this.parentNode,e)}),N._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return N.event.remove(this,"._change"),!ce.test(this.nodeName)}}),C.focusin||N.each({focus:"focusin",blur:"focusout"},function(i,n){var o=function(e){N.event.simulate(n,e.target,N.event.fix(e))};N.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=N._data(e,n);t||e.addEventListener(i,o,!0),N._data(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=N._data(e,n)-1;t?N._data(e,n,t):(e.removeEventListener(i,o,!0),N._removeData(e,n))}}}),N.fn.extend({on:function(e,t,i,n){return $e(this,e,t,i,n)},one:function(e,t,i,n){return $e(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,N(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=ve),this.each(function(){N.event.remove(this,e,i,t)});for(o in e)this.off(o,t,e[o]);return this},trigger:function(e,t){return this.each(function(){N.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?N.event.trigger(e,t,i,!0):void 0}});var xe=/ jQuery\d+="(?:null|\d+)"/g,be=new RegExp("<(?:"+ne+")[\\s/>]","i"),De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ke=/<script|<style|<link/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/^true\/(.*)/,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Te=oe(f).appendChild(f.createElement("div"));function Ae(e,t){return N.nodeName(e,"table")&&N.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Se(e){return e.type=(null!==N.find.attr(e,"type"))+"/"+e.type,e}function Le(e){var t=Ce.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ee(e,t){if(1===t.nodeType&&N.hasData(e)){var i,n,o,r=N._data(e),a=N._data(t,r),s=r.events;if(s)for(i in delete a.handle,a.events={},s)for(n=0,o=s[i].length;n<o;n++)N.event.add(t,i,s[i][n]);a.data&&(a.data=N.extend({},a.data))}}function Me(e,t){var i,n,o;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!C.noCloneEvent&&t[N.expando]){for(n in(o=N._data(t)).events)N.removeEvent(t,n,o.handle);t.removeAttribute(N.expando)}"script"===i&&t.text!==e.text?(Se(t).text=e.text,Le(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),C.html5Clone&&e.innerHTML&&!N.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Z.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function Fe(i,n,o,r){n=m.apply([],n);var e,t,a,s,l,d,h=0,c=i.length,u=c-1,p=n[0],f=N.isFunction(p);if(f||1<c&&"string"==typeof p&&!C.checkClone&&_e.test(p))return i.each(function(e){var t=i.eq(e);f&&(n[0]=p.call(this,e,t.html())),Fe(t,n,o,r)});if(c&&(e=(d=he(n,i[0].ownerDocument,!1,i,r)).firstChild,1===d.childNodes.length&&(d=e),e||r)){for(a=(s=N.map(we(d,"script"),Se)).length;h<c;h++)t=d,h!==u&&(t=N.clone(t,!0,!0),a&&N.merge(s,we(t,"script"))),o.call(i[h],t,h);if(a)for(l=s[s.length-1].ownerDocument,N.map(s,Le),h=0;h<a;h++)t=s[h],te.test(t.type||"")&&!N._data(t,"globalEval")&&N.contains(l,t)&&(t.src?N._evalUrl&&N._evalUrl(t.src):N.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ne,"")));d=e=null}return i}function Ie(e,t,i){for(var n,o=t?N.filter(t,e):e,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||N.cleanData(we(n)),n.parentNode&&(i&&N.contains(n.ownerDocument,n)&&ae(we(n,"script")),n.parentNode.removeChild(n));return e}N.extend({htmlPrefilter:function(e){return e.replace(De,"<$1></$2>")},clone:function(e,t,i){var n,o,r,a,s,l=N.contains(e.ownerDocument,e);if(C.html5Clone||N.isXMLDoc(e)||!be.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Te.innerHTML=e.outerHTML,Te.removeChild(r=Te.firstChild)),!(C.noCloneEvent&&C.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||N.isXMLDoc(e)))for(n=we(r),s=we(e),a=0;null!=(o=s[a]);++a)n[a]&&Me(o,n[a]);if(t)if(i)for(s=s||we(e),n=n||we(r),a=0;null!=(o=s[a]);a++)Ee(o,n[a]);else Ee(e,r);return 0<(n=we(r,"script")).length&&ae(n,!l&&we(e,"script")),n=s=o=null,r},cleanData:function(e,t){for(var i,n,o,r,a=0,s=N.expando,l=N.cache,d=C.attributes,h=N.event.special;null!=(i=e[a]);a++)if((t||O(i))&&(r=(o=i[s])&&l[o])){if(r.events)for(n in r.events)h[n]?N.event.remove(i,n):N.removeEvent(i,n,r.handle);l[o]&&(delete l[o],d||"undefined"==typeof i.removeAttribute?i[s]=void 0:i.removeAttribute(s),c.push(o))}}}),N.fn.extend({domManip:Fe,detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return Q(this,function(e){return void 0===e?N.text(this):this.empty().append((this[0]&&this[0].ownerDocument||f).createTextNode(e))},null,e,arguments.length)},append:function(){return Fe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)})},prepend:function(){return Fe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ae(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&N.cleanData(we(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&N.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return N.clone(this,e,t)})},html:function(e){return Q(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(xe,""):void 0;if("string"==typeof e&&!ke.test(e)&&(C.htmlSerialize||!be.test(e))&&(C.leadingWhitespace||!ie.test(e))&&!re[(ee.exec(e)||["",""])[1].toLowerCase()]){e=N.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(N.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(h){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return Fe(this,arguments,function(e){var t=this.parentNode;N.inArray(this,i)<0&&(N.cleanData(we(this)),t&&t.replaceChild(e,this))},i)}}),N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){N.fn[e]=function(e){for(var t,i=0,n=[],o=N(e),r=o.length-1;i<=r;i++)t=i===r?this:this.clone(!0),N(o[i])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var Be,Oe={HTML:"block",BODY:"block"};function je(e,t){var i=N(t.createElement(e)).appendTo(t.body),n=N.css(i[0],"display");return i.detach(),n}function He(e){var t=f,i=Oe[e];return i||("none"!==(i=je(e,t))&&i||((t=((Be=(Be||N("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Be[0].contentDocument).document).write(),t.close(),i=je(e,t),Be.detach()),Oe[e]=i),i}var Ge=/^margin/,qe=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),ze=function(e,t,i,n){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in o=i.apply(e,n||[]),t)e.style[r]=a[r];return o},Re=f.documentElement;!function(){var n,o,r,a,s,l,d=f.createElement("div"),h=f.createElement("div");if(h.style){function e(){var e,t,i=f.documentElement;i.appendChild(d),h.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=r=l=!1,o=s=!0,_.getComputedStyle&&(t=_.getComputedStyle(h),n="1%"!==(t||{}).top,l="2px"===(t||{}).marginLeft,r="4px"===(t||{width:"4px"}).width,h.style.marginRight="50%",o="4px"===(t||{marginRight:"4px"}).marginRight,(e=h.appendChild(f.createElement("div"))).style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",h.style.width="1px",s=!parseFloat((_.getComputedStyle(e)||{}).marginRight),h.removeChild(e)),h.style.display="none",(a=0===h.getClientRects().length)&&(h.style.display="",h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",h.childNodes[0].style.borderCollapse="separate",(e=h.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",a=0===e[0].offsetHeight)),i.removeChild(d)}h.style.cssText="float:left;opacity:.5",C.opacity="0.5"===h.style.opacity,C.cssFloat=!!h.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",C.clearCloneStyle="content-box"===h.style.backgroundClip,(d=f.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.innerHTML="",d.appendChild(h),C.boxSizing=""===h.style.boxSizing||""===h.style.MozBoxSizing||""===h.style.WebkitBoxSizing,N.extend(C,{reliableHiddenOffsets:function(){return null==n&&e(),a},boxSizingReliable:function(){return null==n&&e(),r},pixelMarginRight:function(){return null==n&&e(),o},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),l}})}}();var We,Pe,Xe=/^(top|right|bottom|left)$/;function Ve(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}_.getComputedStyle?(We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=_),t.getComputedStyle(e)},Pe=function(e,t,i){var n,o,r,a,s=e.style;return""!==(a=(i=i||We(e))?i.getPropertyValue(t)||i[t]:void 0)&&void 0!==a||N.contains(e.ownerDocument,e)||(a=N.style(e,t)),i&&!C.pixelMarginRight()&&qe.test(a)&&Ge.test(t)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r),void 0===a?a:a+""}):Re.currentStyle&&(We=function(e){return e.currentStyle},Pe=function(e,t,i){var n,o,r,a,s=e.style;return null==(a=(i=i||We(e))?i[t]:void 0)&&s&&s[t]&&(a=s[t]),qe.test(a)&&!Xe.test(t)&&(n=s.left,(r=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,r&&(o.left=r)),void 0===a?a:a+""||"auto"});var Ue=/alpha\([^)]*\)/i,Je=/opacity\s*=\s*([^)]*)/i,Ye=/^(none|table(?!-c[ea]).+)/,Ke=new RegExp("^("+W+")(.*)$","i"),Qe={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},et=["Webkit","O","Moz","ms"],tt=f.createElement("div").style;function it(e){if(e in tt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=et.length;i--;)if((e=et[i]+t)in tt)return e}function nt(e,t){for(var i,n,o,r=[],a=0,s=e.length;a<s;a++)(n=e[a]).style&&(r[a]=N._data(n,"olddisplay"),i=n.style.display,t?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&V(n)&&(r[a]=N._data(n,"olddisplay",He(n.nodeName)))):(o=V(n),(i&&"none"!==i||!o)&&N._data(n,"olddisplay",o?i:N.css(n,"display"))));for(a=0;a<s;a++)(n=e[a]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function ot(e,t,i){var n=Ke.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function rt(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===i&&(a+=N.css(e,i+X[r],!0,o)),n?("content"===i&&(a-=N.css(e,"padding"+X[r],!0,o)),"margin"!==i&&(a-=N.css(e,"border"+X[r]+"Width",!0,o))):(a+=N.css(e,"padding"+X[r],!0,o),"padding"!==i&&(a+=N.css(e,"border"+X[r]+"Width",!0,o)));return a}function at(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=We(e),a=C.boxSizing&&"border-box"===N.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=Pe(e,t,r))<0||null==o)&&(o=e.style[t]),qe.test(o))return o;n=a&&(C.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+rt(e,t,i||(a?"border":"content"),n,r)+"px"}function st(e,t,i,n,o){return new st.prototype.init(e,t,i,n,o)}N.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Pe(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":C.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=N.camelCase(t),l=e.style;if(t=N.cssProps[s]||(N.cssProps[s]=it(s)||s),a=N.cssHooks[t]||N.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t];if("string"===(r=typeof i)&&(o=P.exec(i))&&o[1]&&(i=U(e,t,o),r="number"),null!=i&&i==i&&("number"===r&&(i+=o&&o[3]||(N.cssNumber[s]?"":"px")),C.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(d){}}},css:function(e,t,i,n){var o,r,a,s=N.camelCase(t);return t=N.cssProps[s]||(N.cssProps[s]=it(s)||s),(a=N.cssHooks[t]||N.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=Pe(e,t,n)),"normal"===r&&t in Ze&&(r=Ze[t]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),N.each(["height","width"],function(e,o){N.cssHooks[o]={get:function(e,t,i){return t?Ye.test(N.css(e,"display"))&&0===e.offsetWidth?ze(e,Qe,function(){return at(e,o,i)}):at(e,o,i):void 0},set:function(e,t,i){var n=i&&We(e);return ot(0,t,i?rt(e,o,i,C.boxSizing&&"border-box"===N.css(e,"boxSizing",!1,n),n):0)}}}),C.opacity||(N.cssHooks.opacity={get:function(e,t){return Je.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=N.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";((i.zoom=1)<=t||""===t)&&""===N.trim(r.replace(Ue,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=Ue.test(r)?r.replace(Ue,o):r+" "+o)}}),N.cssHooks.marginRight=Ve(C.reliableMarginRight,function(e,t){return t?ze(e,{display:"inline-block"},Pe,[e,"marginRight"]):void 0}),N.cssHooks.marginLeft=Ve(C.reliableMarginLeft,function(e,t){return t?(parseFloat(Pe(e,"marginLeft"))||(N.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),N.each({margin:"",padding:"",border:"Width"},function(o,r){N.cssHooks[o+r]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[o+X[t]+r]=n[t]||n[t-2]||n[0];return i}},Ge.test(o)||(N.cssHooks[o+r].set=ot)}),N.fn.extend({css:function(e,t){return Q(this,function(e,t,i){var n,o,r={},a=0;if(N.isArray(t)){for(n=We(e),o=t.length;a<o;a++)r[t[a]]=N.css(e,t[a],!1,n);return r}return void 0!==i?N.style(e,t,i):N.css(e,t)},e,t,1<arguments.length)},show:function(){return nt(this,!0)},hide:function(){return nt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){V(this)?N(this).show():N(this).hide()})}}),((N.Tween=st).prototype={constructor:st,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||N.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(N.cssNumber[i]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,i=st.propHooks[this.prop];return this.options.duration?this.pos=t=N.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):st.propHooks._default.set(this),this}}).init.prototype=st.prototype,(st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=N.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){N.fx.step[e.prop]?N.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[N.cssProps[e.prop]]&&!N.cssHooks[e.prop]?e.elem[e.prop]=e.now:N.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},N.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},N.fx=st.prototype.init,N.fx.step={};var lt,dt,ht,ct,ut,pt,ft,mt=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function vt(){return _.setTimeout(function(){lt=void 0}),lt=N.now()}function yt(e,t){var i,n={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)n["margin"+(i=X[o])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function $t(e,t,i){for(var n,o=(wt.tweeners[t]||[]).concat(wt.tweeners["*"]),r=0,a=o.length;r<a;r++)if(n=o[r].call(i,t,e))return n}function wt(r,e,t){var i,a,n=0,o=wt.prefilters.length,s=N.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=lt||vt(),t=Math.max(0,d.startTime+d.duration-e),i=1-(t/d.duration||0),n=0,o=d.tweens.length;n<o;n++)d.tweens[n].run(i);return s.notifyWith(r,[d,i,t]),i<1&&o?t:(s.resolveWith(r,[d]),!1)},d=s.promise({elem:r,props:N.extend({},e),opts:N.extend(!0,{specialEasing:{},easing:N.easing._default},t),originalProperties:e,originalOptions:t,startTime:lt||vt(),duration:t.duration,tweens:[],createTween:function(e,t){var i=N.Tween(r,d.opts,e,t,d.opts.specialEasing[e]||d.opts.easing);return d.tweens.push(i),i},stop:function(e){var t=0,i=e?d.tweens.length:0;if(a)return this;for(a=!0;t<i;t++)d.tweens[t].run(1);return e?(s.notifyWith(r,[d,1,0]),s.resolveWith(r,[d,e])):s.rejectWith(r,[d,e]),this}}),h=d.props;for(function c(e,t){var i,n,o,r,a;for(i in e)if(o=t[n=N.camelCase(i)],r=e[i],N.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(a=N.cssHooks[n])&&"expand"in a)for(i in r=a.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=o);else t[n]=o}(h,d.opts.specialEasing);n<o;n++)if(i=wt.prefilters[n].call(d,r,h,d.opts))return N.isFunction(i.stop)&&(N._queueHooks(d.elem,d.opts.queue).stop=N.proxy(i.stop,i)),i;return N.map(h,$t,d),N.isFunction(d.opts.start)&&d.opts.start.call(r,d),N.fx.timer(N.extend(l,{elem:r,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}N.Animation=N.extend(wt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return U(i.elem,e,P.exec(t),i),i}]},tweener:function(e,t){for(var i,n=0,o=(e=N.isFunction(e)?(t=e,["*"]):e.match(M)).length;n<o;n++)i=e[n],wt.tweeners[i]=wt.tweeners[i]||[],wt.tweeners[i].unshift(t)},prefilters:[function fi(t,e,i){var n,o,r,a,s,l,d,h=this,c={},u=t.style,p=t.nodeType&&V(t),f=N._data(t,"fxshow");for(n in i.queue||(null==(s=N._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,N.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===("none"===(d=N.css(t,"display"))?N._data(t,"olddisplay")||He(t.nodeName):d)&&"none"===N.css(t,"float")&&(C.inlineBlockNeedsLayout&&"inline"!==He(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",C.shrinkWrapBlocks()||h.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]})),e)if(o=e[n],mt.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||void 0===f[n])continue;p=!0}c[n]=f&&f[n]||N.style(t,n)}else d=void 0;if(N.isEmptyObject(c))"inline"===("none"===d?He(t.nodeName):d)&&(u.display=d);else for(n in f?"hidden"in f&&(p=f.hidden):f=N._data(t,"fxshow",{}),r&&(f.hidden=!p),p?N(t).show():h.done(function(){N(t).hide()}),h.done(function(){var e;for(e in N._removeData(t,"fxshow"),c)N.style(t,e,c[e])}),c)a=$t(p?f[n]:0,n,h),n in f||(f[n]=a.start,p&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}],prefilter:function(e,t){t?wt.prefilters.unshift(e):wt.prefilters.push(e)}}),N.speed=function(e,t,i){var n=e&&"object"==typeof e?N.extend({},e):{complete:i||!i&&t||N.isFunction(e)&&e,duration:e,easing:i&&t||t&&!N.isFunction(t)&&t};return n.duration=N.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in N.fx.speeds?N.fx.speeds[n.duration]:N.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){N.isFunction(n.old)&&n.old.call(this),n.queue&&N.dequeue(this,n.queue)},n},N.fn.extend({fadeTo:function(e,t,i,n){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var o=N.isEmptyObject(t),r=N.speed(e,i,n),a=function(){var e=wt(this,N.extend({},t),r);(o||N._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(o,e,r){var a=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",i=N.timers,n=N._data(this);if(t)n[t]&&n[t].stop&&a(n[t]);else for(t in n)n[t]&&n[t].stop&&gt.test(t)&&a(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=o&&i[t].queue!==o||(i[t].anim.stop(r),e=!1,i.splice(t,1));!e&&r||N.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=N._data(this),i=t[a+"queue"],n=t[a+"queueHooks"],o=N.timers,r=i?i.length:0;for(t.finish=!0,N.queue(this,a,[]),n&&n.stop&&n.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),N.each(["toggle","show","hide"],function(e,n){var o=N.fn[n];N.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(yt(n,!0),e,t,i)}}),N.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){N.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),N.timers=[],N.fx.tick=function(){var e,t=N.timers,i=0;for(lt=N.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||N.fx.stop(),lt=void 0},N.fx.timer=function(e){N.timers.push(e),e()?N.fx.start():N.timers.pop()},N.fx.interval=13,N.fx.start=function(){dt||(dt=_.setInterval(N.fx.tick,N.fx.interval))},N.fx.stop=function(){_.clearInterval(dt),dt=null},N.fx.speeds={slow:600,fast:200,_default:400},N.fn.delay=function(n,e){return n=N.fx&&N.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=_.setTimeout(e,n);t.stop=function(){_.clearTimeout(i)}})},ct=f.createElement("input"),ut=f.createElement("div"),pt=f.createElement("select"),ft=pt.appendChild(f.createElement("option")),(ut=f.createElement("div")).setAttribute("className","t"),ut.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ht=ut.getElementsByTagName("a")[0],ct.setAttribute("type","checkbox"),ut.appendChild(ct),(ht=ut.getElementsByTagName("a")[0]).style.cssText="top:1px",C.getSetAttribute="t"!==ut.className,C.style=/top/.test(ht.getAttribute("style")),C.hrefNormalized="/a"===ht.getAttribute("href"),C.checkOn=!!ct.value,C.optSelected=ft.selected,C.enctype=!!f.createElement("form").enctype,pt.disabled=!0,C.optDisabled=!ft.disabled,(ct=f.createElement("input")).setAttribute("value",""),C.input=""===ct.getAttribute("value"),ct.value="t",ct.setAttribute("type","radio"),C.radioValue="t"===ct.value;var xt=/\r/g,bt=/[\x20\t\r\n\f]+/g;N.fn.extend({val:function(i){var n,e,o,t=this[0];return arguments.length?(o=N.isFunction(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?i.call(this,e,N(this).val()):i)?t="":"number"==typeof t?t+="":N.isArray(t)&&(t=N.map(t,function(e){return null==e?"":e+""})),(n=N.valHooks[this.type]||N.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):t?(n=N.valHooks[t.type]||N.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),N.extend({valHooks:{option:{get:function(e){var t=N.find.attr(e,"value");return null!=t?t:N.trim(N.text(e)).replace(bt," ")}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,r="select-one"===e.type||o<0,a=r?null:[],s=r?o+1:n.length,l=o<0?s:r?o:0;l<s;l++)if(((i=n[l]).selected||l===o)&&(C.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!N.nodeName(i.parentNode,"optgroup"))){if(t=N(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=N.makeArray(t),a=o.length;a--;)if(n=o[a],-1<N.inArray(N.valHooks.option.get(n),r))try{n.selected=i=!0}catch(l){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),o}}}}),N.each(["radio","checkbox"],function(){N.valHooks[this]={set:function(e,t){return N.isArray(t)?e.checked=-1<N.inArray(N(e).val(),t):void 0}},C.checkOn||(N.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Dt,kt,_t=N.expr.attrHandle,Ct=/^(?:checked|selected)$/i,Nt=C.getSetAttribute,Tt=C.input;N.fn.extend({attr:function(e,t){return Q(this,N.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){N.removeAttr(this,e)})}}),N.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?N.prop(e,t,i):(1===r&&N.isXMLDoc(e)||(t=t.toLowerCase(),o=N.attrHooks[t]||(N.expr.match.bool.test(t)?kt:Dt)),void 0!==i?null===i?void N.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=N.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!C.radioValue&&"radio"===t&&N.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,o=0,r=t&&t.match(M);if(r&&1===e.nodeType)for(;i=r[o++];)n=N.propFix[i]||i,N.expr.match.bool.test(i)?Tt&&Nt||!Ct.test(i)?e[n]=!1:e[N.camelCase("default-"+i)]=e[n]=!1:N.attr(e,i,""),e.removeAttribute(Nt?i:n)}}),kt={set:function(e,t,i){return!1===t?N.removeAttr(e,i):Tt&&Nt||!Ct.test(i)?e.setAttribute(!Nt&&N.propFix[i]||i,i):e[N.camelCase("default-"+i)]=e[i]=!0,i}},N.each(N.expr.match.bool.source.match(/\w+/g),function(e,t){var r=_t[t]||N.find.attr;Tt&&Nt||!Ct.test(t)?_t[t]=function(e,t,i){var n,o;return i||(o=_t[t],_t[t]=n,n=null!=r(e,t,i)?t.toLowerCase():null,_t[t]=o),n}:_t[t]=function(e,t,i){return i?void 0:e[N.camelCase("default-"+t)]?t.toLowerCase():null}}),Tt&&Nt||(N.attrHooks.value={set:function(e,t,i){return N.nodeName(e,"input")?void(e.defaultValue=t):Dt&&Dt.set(e,t,i)}}),Nt||(Dt={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},_t.id=_t.name=_t.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},N.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:Dt.set},N.attrHooks.contenteditable={set:function(e,t,i){Dt.set(e,""!==t&&t,i)}},N.each(["width","height"],function(e,i){N.attrHooks[i]={set:function(e,t){return""===t?(e.setAttribute(i,"auto"),t):void 0}}})),C.style||(N.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var At=/^(?:input|select|textarea|button|object)$/i,St=/^(?:a|area)$/i;N.fn.extend({prop:function(e,t){return Q(this,N.prop,e,t,1<arguments.length)},removeProp:function(e){return e=N.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),N.extend({prop:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&N.isXMLDoc(e)||(t=N.propFix[t]||t,o=N.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=N.find.attr(e,"tabindex");return t?parseInt(t,10):At.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),C.hrefNormalized||N.each(["href","src"],function(e,t){N.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),C.optSelected||(N.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),N.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){N.propFix[this.toLowerCase()]=this}),C.enctype||(N.propFix.enctype="encoding");var Lt=/[\t\r\n\f]/g;function Et(e){return N.attr(e,"class")||""}N.fn.extend({addClass:function(t){var e,i,n,o,r,a,s,l=0;if(N.isFunction(t))return this.each(function(e){N(this).addClass(t.call(this,e,Et(this)))});if("string"==typeof t&&t)for(e=t.match(M)||[];i=this[l++];)if(o=Et(i),n=1===i.nodeType&&(" "+o+" ").replace(Lt," ")){for(a=0;r=e[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(s=N.trim(n))&&N.attr(i,"class",s)}return this},removeClass:function(t){var e,i,n,o,r,a,s,l=0;if(N.isFunction(t))return this.each(function(e){N(this).removeClass(t.call(this,e,Et(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(M)||[];i=this[l++];)if(o=Et(i),n=1===i.nodeType&&(" "+o+" ").replace(Lt," ")){for(a=0;r=e[a++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");o!==(s=N.trim(n))&&N.attr(i,"class",s)}return this},toggleClass:function(o,t){var r=typeof o;return"boolean"==typeof t&&"string"===r?t?this.addClass(o):this.removeClass(o):N.isFunction(o)?this.each(function(e){N(this).toggleClass(o.call(this,e,Et(this),t),t)}):this.each(function(){var e,t,i,n;if("string"===r)for(t=0,i=N(this),n=o.match(M)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==o&&"boolean"!==r||((e=Et(this))&&N._data(this,"__className__",e),N.attr(this,"class",e||!1===o?"":N._data(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+Et(i)+" ").replace(Lt," ").indexOf(t))return!0;return!1}}),N.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){N.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),N.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Mt=_.location,Ft=N.now(),It=/\?/,Bt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;N.parseJSON=function(e){if(_.JSON&&_.JSON.parse)return _.JSON.parse(e+"");var o,r=null,t=N.trim(e+"");return t&&!N.trim(t.replace(Bt,function(e,t,i,n){return o&&t&&(r=0),0===r?e:(o=i||t,r+=!n-!i,"")}))?Function("return "+t)():N.error("Invalid JSON: "+e)},N.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{_.DOMParser?t=(new _.DOMParser).parseFromString(e,"text/xml"):((t=new _.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(h){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||N.error("Invalid XML: "+e),t};var Ot=/#.*$/,jt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Gt=/^(?:GET|HEAD)$/,qt=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Rt={},Wt={},Pt="*/".concat("*"),Xt=Mt.href,Vt=zt.exec(Xt.toLowerCase())||[];function Ut(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,o=e.toLowerCase().match(M)||[];if(N.isFunction(t))for(;i=o[n++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(r[i]=r[i]||[]).unshift(t)):(r[i]=r[i]||[]).push(t)}}function Jt(t,o,r,a){var s={},l=t===Wt;function d(e){var n;return s[e]=!0,N.each(t[e]||[],function(e,t){var i=t(o,r,a);return"string"!=typeof i||l||s[i]?l?!(n=i):void 0:(o.dataTypes.unshift(i),d(i),!1)}),n}return d(o.dataTypes[0])||!s["*"]&&d("*")}function Yt(e,t){var i,n,o=N.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&N.extend(!0,e,i),e}N.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Vt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":N.parseJSON,"text xml":N.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,N.ajaxSettings),t):Yt(N.ajaxSettings,e)},ajaxPrefilter:Ut(Rt),ajaxTransport:Ut(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,n,u,p,f,m,g,o,v=N.ajaxSetup({},t),y=v.context||v,$=v.context&&(y.nodeType||y.jquery)?N(y):N.event,w=N.Deferred(),x=N.Callbacks("once memory"),b=v.statusCode||{},r={},a={},D=0,s="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===D){if(!o)for(o={};t=Ht.exec(p);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===D?p:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return D||(e=a[i]=a[i]||e,r[e]=t),this},overrideMimeType:function(e){return D||(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(D<2)for(t in e)b[t]=[b[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||s;return g&&g.abort(t),l(0,t),this}};if(w.promise(k).complete=x.add,k.success=k.done,k.error=k.fail,v.url=((e||v.url||Xt)+"").replace(Ot,"").replace(qt,Vt[1]+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=N.trim(v.dataType||"*").toLowerCase().match(M)||[""],null==v.crossDomain&&(i=zt.exec(v.url.toLowerCase()),v.crossDomain=!(!i||i[1]===Vt[1]&&i[2]===Vt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Vt[3]||("http:"===Vt[1]?"80":"443")))),v.data&&v.processData&&"string"!=typeof v.data&&(v.data=N.param(v.data,v.traditional)),Jt(Rt,v,t,k),2===D)return k;for(n in(m=N.event&&v.global)&&0==N.active++&&N.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Gt.test(v.type),u=v.url,v.hasContent||(v.data&&(u=v.url+=(It.test(u)?"&":"?")+v.data,delete v.data),!1===v.cache&&(v.url=jt.test(u)?u.replace(jt,"$1_="+Ft++):u+(It.test(u)?"&":"?")+"_="+Ft++)),v.ifModified&&(N.lastModified[u]&&k.setRequestHeader("If-Modified-Since",N.lastModified[u]),N.etag[u]&&k.setRequestHeader("If-None-Match",N.etag[u])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&k.setRequestHeader("Content-Type",v.contentType),k.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Pt+"; q=0.01":""):v.accepts["*"]),v.headers)k.setRequestHeader(n,v.headers[n]);if(v.beforeSend&&(!1===v.beforeSend.call(y,k,v)||2===D))return k.abort();for(n in s="abort",{success:1,error:1,complete:1})k[n](v[n]);if(g=Jt(Wt,v,t,k)){if(k.readyState=1,m&&$.trigger("ajaxSend",[k,v]),2===D)return k;v.async&&0<v.timeout&&(f=_.setTimeout(function(){k.abort("timeout")},v.timeout));try{D=1,g.send(r,l)}catch(T){if(!(D<2))throw T;l(-1,T)}}else l(-1,"No Transport");function l(e,t,i,n){var o,r,a,s,l,d=t;2!==D&&(D=2,f&&_.clearTimeout(f),g=void 0,p=n||"",k.readyState=0<e?4:0,o=200<=e&&e<300||304===e,i&&(s=function h(e,t,i){for(var n,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}n||(n=a)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}(v,k,i)),s=function c(e,t,i,n){var o,r,a,s,l,d={},h=e.dataTypes.slice();if(h[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a];for(r=h.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=d[l+" "+r]||d["* "+r]))for(o in d)if((s=o.split(" "))[1]===r&&(a=d[l+" "+s[0]]||d["* "+s[0]])){!0===a?a=d[o]:!0!==d[o]&&(r=s[0],h.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(C){return{state:"parsererror",error:a?C:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(v,s,k,o),o?(v.ifModified&&((l=k.getResponseHeader("Last-Modified"))&&(N.lastModified[u]=l),(l=k.getResponseHeader("etag"))&&(N.etag[u]=l)),204===e||"HEAD"===v.type?d="nocontent":304===e?d="notmodified":(d=s.state,r=s.data,o=!(a=s.error))):(a=d,!e&&d||(d="error",e<0&&(e=0))),k.status=e,k.statusText=(t||d)+"",o?w.resolveWith(y,[r,d,k]):w.rejectWith(y,[k,d,a]),k.statusCode(b),b=void 0,m&&$.trigger(o?"ajaxSuccess":"ajaxError",[k,v,o?r:a]),x.fireWith(y,[k,d]),m&&($.trigger("ajaxComplete",[k,v]),--N.active||N.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,i){return N.get(e,t,i,"json")},getScript:function(e,t){return N.get(e,void 0,t,"script")}}),N.each(["get","post"],function(e,o){N[o]=function(e,t,i,n){return N.isFunction(t)&&(n=n||i,i=t,t=void 0),N.ajax(N.extend({url:e,type:o,dataType:n,data:t,success:i},N.isPlainObject(e)&&e))}}),N._evalUrl=function(e){return N.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},N.fn.extend({wrapAll:function(t){if(N.isFunction(t))return this.each(function(e){N(this).wrapAll(t.call(this,e))});if(this[0]){var e=N(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(i){return N.isFunction(i)?this.each(function(e){N(this).wrapInner(i.call(this,e))}):this.each(function(){var e=N(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=N.isFunction(t);return this.each(function(e){N(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){N.nodeName(this,"body")||N(this).replaceWith(this.childNodes)}).end()}}),N.expr.filters.hidden=function(e){return C.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:function i(e){if(!N.contains(e.ownerDocument||f,e))return!0;for(;e&&1===e.nodeType;){if("none"===((t=e).style&&t.style.display||N.css(t,"display"))||"hidden"===e.type)return!0;e=e.parentNode}var t;return!1}(e)},N.expr.filters.visible=function(e){return!N.expr.filters.hidden(e)};var Kt=/%20/g,Qt=/\[\]$/,Zt=/\r?\n/g,ei=/^(?:submit|button|image|reset|file)$/i,ti=/^(?:input|select|textarea|keygen)/i;function ii(i,e,n,o){var t;if(N.isArray(e))N.each(e,function(e,t){n||Qt.test(i)?o(i,t):ii(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,n,o)});else if(n||"object"!==N.type(e))o(i,e);else for(t in e)ii(i+"["+t+"]",e[t],n,o)}N.param=function(e,t){var i,n=[],o=function(e,t){t=N.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=N.ajaxSettings&&N.ajaxSettings.traditional),N.isArray(e)||e.jquery&&!N.isPlainObject(e))N.each(e,function(){o(this.name,this.value)});else for(i in e)ii(i,e[i],t,o);return n.join("&").replace(Kt,"+")},N.fn.extend({serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=N.prop(this,"elements");return e?N.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!N(this).is(":disabled")&&ti.test(this.nodeName)&&!ei.test(e)&&(this.checked||!Z.test(e))}).map(function(e,t){var i=N(this).val();return null==i?null:N.isArray(i)?N.map(i,function(e){return{name:t.name,value:e.replace(Zt,"\r\n")}}):{name:t.name,value:i.replace(Zt,"\r\n")}}).get()}}),N.ajaxSettings.xhr=void 0!==_.ActiveXObject?function(){return this.isLocal?si():8<f.documentMode?ai():/^(get|post|head|put|delete|options)$/i.test(this.type)&&ai()||si()}:ai;var ni=0,oi={},ri=N.ajaxSettings.xhr();function ai(){try{return new _.XMLHttpRequest}catch(t){}}function si(){try{return new _.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}_.attachEvent&&_.attachEvent("onunload",function(){for(var e in oi)oi[e](void 0,!0)}),C.cors=!!ri&&"withCredentials"in ri,(ri=C.ajax=!!ri)&&N.ajaxTransport(function(l){var d;if(!l.crossDomain||C.cors)return{send:function(e,r){var t,a=l.xhr(),s=++ni;if(a.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields)a[t]=l.xhrFields[t];for(t in l.mimeType&&a.overrideMimeType&&a.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&a.setRequestHeader(t,e[t]+"");a.send(l.hasContent&&l.data||null),d=function(e,t){var i,n,o;if(d&&(t||4===a.readyState))if(delete oi[s],d=void 0,a.onreadystatechange=N.noop,t)4!==a.readyState&&a.abort();else{o={},i=a.status,"string"==typeof a.responseText&&(o.text=a.responseText);try{n=a.statusText}catch(g){n=""}i||!l.isLocal||l.crossDomain?1223===i&&(i=204):i=o.text?200:404}o&&r(i,n,o,a.getAllResponseHeaders())},l.async?4===a.readyState?_.setTimeout(d):a.onreadystatechange=oi[s]=d:d()},abort:function(){d&&d(void 0,!0)}}}),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return N.globalEval(e),e}}}),N.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),N.ajaxTransport("script",function(t){if(t.crossDomain){var n,o=f.head||N("head")[0]||f.documentElement;return{send:function(e,i){(n=f.createElement("script")).async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},o.insertBefore(n,o.firstChild)},abort:function(){n&&n.onload(void 0,!0)}}}});var li=[],di=/(=)\?(?=&|$)|\?\?/;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=li.pop()||N.expando+"_"+Ft++;return this[e]=!0,e}}),N.ajaxPrefilter("json jsonp",function(e,t,i){var n,o,r,a=!1!==e.jsonp&&(di.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&di.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(n=e.jsonpCallback=N.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(di,"$1"+n):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return r||N.error(n+" was not called"),r[0]},e.dataTypes[0]="json",o=_[n],_[n]=function(){r=arguments},i.always(function(){void 0===o?N(_).removeProp(n):_[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,li.push(n)),r&&N.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),N.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||f;var n=T.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=he([e],t,o),o&&o.length&&N(o).remove(),N.merge([],n.childNodes))};var hi=N.fn.load;function ci(e){return N.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}N.fn.load=function(e,t,i){if("string"!=typeof e&&hi)return hi.apply(this,arguments);var n,o,r,a=this,s=e.indexOf(" ");return-1<s&&(n=N.trim(e.slice(s,e.length)),e=e.slice(0,s)),N.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&N.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(n?N("<div>").append(N.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},N.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){N.fn[t]=function(e){return this.on(t,e)}}),N.expr.filters.animated=function(t){return N.grep(N.timers,function(e){return t===e.elem}).length},N.offset={setOffset:function(e,t,i){var n,o,r,a,s,l,d=N.css(e,"position"),h=N(e),c={};"static"===d&&(e.style.position="relative"),s=h.offset(),r=N.css(e,"top"),l=N.css(e,"left"),o=("absolute"===d||"fixed"===d)&&-1<N.inArray("auto",[r,l])?(a=(n=h.position()).top,n.left):(a=parseFloat(r)||0,parseFloat(l)||0),N.isFunction(t)&&(t=t.call(e,i,N.extend({},s))),null!=t.top&&(c.top=t.top-s.top+a),null!=t.left&&(c.left=t.left-s.left+o),"using"in t?t.using.call(e,c):h.css(c)}},N.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){N.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(e=r.documentElement,N.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(n=o.getBoundingClientRect()),i=ci(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===N.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),N.nodeName(e[0],"html")||(i=e.offset()),i.top+=N.css(e[0],"borderTopWidth",!0),i.left+=N.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-N.css(n,"marginTop",!0),left:t.left-i.left-N.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!N.nodeName(e,"html")&&"static"===N.css(e,"position");)e=e.offsetParent;return e||Re})}}),N.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r=/Y/.test(o);N.fn[t]=function(e){return Q(this,function(e,t,i){var n=ci(e);return void 0===i?n?o in n?n[o]:n.document.documentElement[t]:e[t]:void(n?n.scrollTo(r?N(n).scrollLeft():i,r?i:N(n).scrollTop()):e[t]=i)},t,e,arguments.length,null)}}),N.each(["top","left"],function(e,i){N.cssHooks[i]=Ve(C.pixelPosition,function(e,t){return t?(t=Pe(e,i),qe.test(t)?N(e).position()[i]+"px":t):void 0})}),N.each({Height:"height",Width:"width"},function(r,a){N.each({padding:"inner"+r,content:a,"":"outer"+r},function(n,e){N.fn[e]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),o=n||(!0===e||!0===t?"margin":"border");return Q(this,function(e,t,i){var n;return N.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+r],n["scroll"+r],e.body["offset"+r],n["offset"+r],n["client"+r])):void 0===i?N.css(e,t,o):N.style(e,t,i,o)},a,i?e:void 0,i,null)}})}),N.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),N.fn.size=function(){return this.length},N.fn.andSelf=N.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return N});var ui=_.jQuery,pi=_.$;return N.noConflict=function(e){return _.$===N&&(_.$=pi),e&&_.jQuery===N&&(_.jQuery=ui),N},t||(_.jQuery=_.$=N),N});var Goo=Goo||function(s,e){var t={},i=t.lib={},n=i.Base=function(){function i(){}return{extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),l=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||r).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(i[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<i.length)for(o=0;o<e;o+=4)t[n+o>>>2]=i[o>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(4294967296*s.random()|0);return l.create(t,e)}}),o=t.enc={},r=o.Hex={stringify:function(e){for(var t=e.words,i=(e=e.sigBytes,[]),n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return l.create(i,t/2)}},a=o.Latin1={stringify:function(e){for(var t=e.words,i=(e=e.sigBytes,[]),n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return l.create(i,t)}},d=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=l.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,i=t.words,n=t.sigBytes,o=this.blockSize,r=n/(4*o);if(e=(r=e?s.ceil(r):s.max((0|r)-this._minBufferSize,0))*o,n=s.min(4*e,n),e){for(var a=0;a<e;a+=o)this._doProcessBlock(i,a);a=i.splice(0,e),t.sigBytes-=n}return l.create(a,n)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=h.extend({init:function(){this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=h.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(i){return function(e,t){return i.create(t).finalize(e)}},_createHmacHelper:function(i){return function(e,t){return c.HMAC.create(i,t).finalize(e)}}});var c=t.algo={};return t}(Math);!function(){var e=Goo,l=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp(),e=[];for(var o=0;o<i;o+=3)for(var r=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<i;a++)e.push(n.charAt(r>>>6*(3-a)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=(e=e.replace(/\s/g,"")).length,i=this._map;(n=i.charAt(64))&&-1!=(n=e.indexOf(n))&&(t=n);for(var n=[],o=0,r=0;r<t;r++)if(r%4){var a=i.indexOf(e.charAt(r-1))<<r%4*2,s=i.indexOf(e.charAt(r))>>>6-r%4*2;n[o>>>2]|=(a|s)<<24-o%4*8,o++}return l.create(n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function l(e,t,i,n,o,r,a){return((e=e+(t&i|~t&n)+o+a)<<r|e>>>32-r)+t}function d(e,t,i,n,o,r,a){return((e=e+(t&n|i&~n)+o+a)<<r|e>>>32-r)+t}function h(e,t,i,n,o,r,a){return((e=e+(t^i^n)+o+a)<<r|e>>>32-r)+t}function c(e,t,i,n,o,r,a){return((e=e+(i^(t|~n))+o+a)<<r|e>>>32-r)+t}var e=Goo,i=(n=e.lib).WordArray,n=n.Hasher,o=e.algo,u=[];!function(){for(var e=0;e<64;e++)u[e]=4294967296*t.abs(t.sin(e+1))|0}(),o=o.MD5=n.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=e[o=t+i];e[o]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}n=(o=this._hash.words)[0];var o,r=o[1],a=o[2],s=o[3];for(i=0;i<64;i+=4)r=i<16?l(r,a=l(a,s=l(s,n=l(n,r,a,s,e[t+i],7,u[i]),r,a,e[t+i+1],12,u[i+1]),n,r,e[t+i+2],17,u[i+2]),s,n,e[t+i+3],22,u[i+3]):i<32?d(r,a=d(a,s=d(s,n=d(n,r,a,s,e[t+(i+1)%16],5,u[i]),r,a,e[t+(i+6)%16],9,u[i+1]),n,r,e[t+(i+11)%16],14,u[i+2]),s,n,e[t+i%16],20,u[i+3]):i<48?h(r,a=h(a,s=h(s,n=h(n,r,a,s,e[t+(3*i+5)%16],4,u[i]),r,a,e[t+(3*i+8)%16],11,u[i+1]),n,r,e[t+(3*i+11)%16],16,u[i+2]),s,n,e[t+(3*i+14)%16],23,u[i+3]):c(r,a=c(a,s=c(s,n=c(n,r,a,s,e[t+3*i%16],6,u[i]),r,a,e[t+(3*i+7)%16],10,u[i+1]),n,r,e[t+(3*i+14)%16],15,u[i+2]),s,n,e[t+(3*i+5)%16],21,u[i+3]);o[0]=o[0]+n|0,o[1]=o[1]+r|0,o[2]=o[2]+a|0,o[3]=o[3]+s|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;for(t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process(),e=this._hash.words,t=0;t<4;t++)i=e[t],e[t]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}}),e.MD5=n._createHelper(o),e.HmacMD5=n._createHmacHelper(o)}(Math),function(){var e,t=Goo,i=(e=t.lib).Base,d=e.WordArray,n=(e=t.algo).EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=(a=this.cfg).hasher.create(),n=d.create(),o=n.words,r=a.keySize,a=a.iterations;o.length<r;){s&&i.update(s);var s=i.update(e).finalize(t);i.reset();for(var l=1;l<a;l++)s=i.finalize(s),i.reset();n.concat(s)}return n.sigBytes=4*r,n}});t.EvpKDF=function(e,t,i){return n.create(i).compute(e,t)}}(),Goo.Key="4d708301e7bd1183aa25",Goo.lib.Cipher||function(e){var t=(p=Goo).lib,i=t.Base,a=t.WordArray,n=t.BufferedBlockAlgorithm,o=p.enc.Base64,r=p.algo.EvpKDF,s=t.Cipher=n.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(n){return{enc:function(e,t,i){return("string"==typeof t?f:u).enc(n,e,t,i)},dec:function(e,t,i){return("string"==typeof t?f:u).dec(n,e,t,i)}}}});t.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=p.mode={},d=t.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=(l=l.CBC=function(){function r(e,t,i){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var o=0;o<i;o++)e[t+o]^=n[o]}var e=d.extend();return e.Encryptor=e.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize;r.call(this,e,t,n),i.encBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),e.Decryptor=e.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,o=e.slice(t,t+n);i.decBlock(e,t),r.call(this,e,t,n),this._prevBlock=o}}),e}(),(p.pad={}).Pkcs7={pad:function(e,t){for(var i,n=(i=(i=4*t)-e.sigBytes%i)<<24|i<<16|i<<8|i,o=[],r=0;r<i;r+=4)o.push(n);i=a.create(o,i),e.concat(i)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}});t.BlockCipher=s.extend({cfg:s.cfg.extend({mode:l,padding:h}),reset:function(){s.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else i=t.createDecryptor,this._minBufferSize=1;this._mode=i.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var c=t.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(l=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return(t=((e=e.salt)?a.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)).replace(/(.{64})/g,"$1\n")},parse:function(e){var t=(e=o.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var i=a.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return c.create({ciphertext:e,salt:i})}},t.SerializableCipher=i.extend({cfg:i.extend({format:l}),enc:function(e,t,i,n){n=this.cfg.extend(n),t=(o=e.createEncryptor(i,n)).finalize(t);var o=o.cfg;return c.create({ciphertext:t,key:i,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:n.format})},dec:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e):e}})),p=(p.kdf={}).OpenSSL={compute:function(e,t,i,n){return n||(n=a.random(8)),e=r.create({keySize:t+i}).compute(e,n),i=a.create(e.words.slice(t),4*i),e.sigBytes=4*t,c.create({key:e,iv:i,salt:n})}},f=t.PasswordBasedCipher=u.extend({cfg:u.cfg.extend({kdf:p}),enc:function(e,t,i,n){return i=(n=this.cfg.extend(n)).kdf.compute(i,e.keySize,e.ivSize),n.iv=i.iv,(e=u.enc.call(this,e,t,i.key,n)).mixIn(i),e},dec:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),i=n.kdf.compute(i,e.keySize,e.ivSize,t.salt),n.iv=i.iv,u.dec.call(this,e,t,i.key,n)}})}(),function(){var e=Goo,t=e.lib.BlockCipher,i=e.algo,d=[],h=[],c=[],u=[],p=[],f=[],m=[],g=[],v=[],y=[];e.render=function(e){if(e&&""!=e&&null!=e)return new Function("return "+e)();document.write()},e.draw=function(){"object"==typeof Goo._x&&Goo.isInit||document.write()},function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,n=0;for(t=0;t<256;t++){var o=(o=n^n<<1^n<<2^n<<3^n<<4)>>>8^255&o^99;d[i]=o;var r=e[h[o]=i],a=e[r],s=e[a],l=257*e[o]^16843008*o;c[i]=l<<24|l>>>8,u[i]=l<<16|l>>>16,p[i]=l<<8|l>>>24,f[i]=l,l=16843009*s^65537*a^257*r^16843008*i,m[o]=l<<24|l>>>8,g[o]=l<<16|l>>>16,v[o]=l<<8|l>>>24,y[o]=l,i?(i=r^e[e[e[s^r]]],n^=e[e[n]]):i=n=1}}(),e.frcDraw=function(){document.write()};var a=[0,1,2,4,8,16,32,64,128,27,54];i=i.A=t.extend({_doReset:function(){for(var e=(i=this._key).words,t=i.sigBytes/4,i=4*((this._nRounds=t+6)+1),n=this._keySchedule=[],o=0;o<i;o++)if(o<t)n[o]=e[o];else{var r=n[o-1];o%t?6<t&&4==o%t&&(r=d[r>>>24]<<24|d[r>>>16&255]<<16|d[r>>>8&255]<<8|d[255&r]):(r=d[(r=r<<8|r>>>24)>>>24]<<24|d[r>>>16&255]<<16|d[r>>>8&255]<<8|d[255&r],r^=a[o/t|0]<<24),n[o]=n[o-t]^r}for(e=this._invKeySchedule=[],t=0;t<i;t++)o=i-t,r=t%4?n[o]:n[o-4],e[t]=t<4||o<=4?r:m[d[r>>>24]]^g[d[r>>>16&255]]^v[d[r>>>8&255]]^y[d[255&r]]},encBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,c,u,p,f,d)},decBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,m,g,v,y,h),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,o,r,a,s){for(var l=this._nRounds,d=e[t]^i[0],h=e[t+1]^i[1],c=e[t+2]^i[2],u=e[t+3]^i[3],p=4,f=1;f<l;f++){var m=n[d>>>24]^o[h>>>16&255]^r[c>>>8&255]^a[255&u]^i[p++],g=n[h>>>24]^o[c>>>16&255]^r[u>>>8&255]^a[255&d]^i[p++],v=n[c>>>24]^o[u>>>16&255]^r[d>>>8&255]^a[255&h]^i[p++];u=n[u>>>24]^o[d>>>16&255]^r[h>>>8&255]^a[255&c]^i[p++],d=m,h=g,c=v}m=(s[d>>>24]<<24|s[h>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^i[p++],g=(s[h>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^i[p++],v=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&h])^i[p++],u=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[h>>>8&255]<<8|s[255&c])^i[p++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=u},keySize:8}),e.A=t._createHelper(i)}(),function(e,t){"use strict";"undefined"!=typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):e.GooFlow=t(e.$)}("undefined"!=typeof window?window:this,function(A){function g(e){return e||(e=window.event),e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft-document.body.clientLeft,y:e.clientY+document.documentElement.scrollTop-document.body.clientTop}}function h(e,t,i,n,o){o||(o=1);var r={left:e.left*o,top:e.top*o,width:e.width*o,height:e.height*o},a={left:t.left*o,top:t.top*o,width:t.width*o,height:t.height*o};n*=o;var s,l,d={x:r.left+r.width/2,y:r.top+r.height/2},h={x:a.left+a.width/2,y:a.top+a.height/2},c=[],u=[];return s=[d.x,d.y],l=[h.x,h.y],"lr"===i?(u=[n,h.y],(c=[n,d.y])[0]>r.left&&c[0]<r.left+r.width?(c[1]=h.y<d.y?r.top:r.top+r.height,s[0]=c[0],s[1]=c[1]):s[0]=c[0]<r.left?r.left:r.left+r.width,u[0]>a.left&&u[0]<a.left+a.width?(u[1]=h.y<d.y?a.top+a.height:a.top,l[0]=u[0],l[1]=u[1]):l[0]=u[0]<a.left?a.left:a.left+a.width):"tb"===i&&(u=[h.x,n],(c=[d.x,n])[1]>r.top&&c[1]<r.top+r.height?(c[0]=h.x<d.x?r.left:r.left+r.width,s[0]=c[0],s[1]=c[1]):s[1]=c[1]<r.top?r.top:r.top+r.height,u[1]>a.top&&u[1]<a.top+a.height?(u[0]=h.x<d.x?a.left+a.width:a.left,l[0]=u[0],l[1]=u[1]):l[1]=u[1]<a.top?a.top:a.top+a.height),{start:s,m1:c,m2:u,end:l}}function c(e,t,i){var n,o,r,a;i||(i=1);var s=e.left*i,l=e.left*i+e.width*i,d=t.left*i,h=t.left*i+t.width*i;h<=s?(n=s,r=h):l<=d?(n=l,r=d):s<=d&&d<=l&&l<=h?r=n=(l+d)/2:d<=s&&l<=h?r=n=(s+l)/2:s<=d&&h<=l?r=n=(d+h)/2:s<=h&&h<=l&&(r=n=(s+h)/2);var c=e.top*i,u=e.top*i+e.height*i,p=t.top*i,f=t.top*i+t.height*i;return f<=c?(o=c,a=f):u<=p?(o=u,a=p):c<=p&&p<=u&&u<=f?a=o=(u+p)/2:p<=c&&u<=f?a=o=(c+u)/2:c<=p&&f<=u?a=o=(p+f)/2:c<=f&&f<=u&&(a=o=(c+f)/2),{start:[n,o],end:[r,a]}}function p(e){var t=e.offsetTop,i=e.offsetLeft;for(e=e.offsetParent;e;)t+=e.offsetTop,i+=e.offsetLeft,e=e.offsetParent;return{top:t,left:i}}function S(e,t){var i=g(e),n=p(t);return{X:i.x-n.left+t.parentNode.scrollLeft,Y:i.y-n.top+t.parentNode.scrollTop}}function f(e){e||(e=window.event),window.event?e.cancelBubble=!0:e.stopPropagation()}function r(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","marker");i.setAttribute("id",e),i.setAttribute("viewBox","0 0 6 6"),i.setAttribute("refX","5"),i.setAttribute("refY","3"),i.setAttribute("markerUnits","strokeWidth"),i.setAttribute("markerWidth","6"),i.setAttribute("markerHeight","6"),i.setAttribute("orient","auto");var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M 0 0 L 6 3 L 0 6 z"),n.setAttribute("fill",t),n.setAttribute("stroke-width","0"),i.appendChild(n),i}function m(e){var t="object"==typeof e?e.$nowType:e;return"direct"===t||"dirDashed"===t||"segment"===t||"segDashed"===t}var L=function(e,t){0<navigator.userAgent.indexOf("MSIE 8.0")||0<navigator.userAgent.indexOf("MSIE 7.0")||0<navigator.userAgent.indexOf("MSIE 6.0")?L.prototype.useSVG="":L.prototype.useSVG="1",this.$bgDiv=A(e),this.$bgDiv.addClass("GooFlow");var i={width:this.$bgDiv.width(),height:this.$bgDiv.height(),nodePrefix:"node_",areaPrefix:"area_",initNum:1,haveHead:!1,headLabel:!1,initLabelText:"newFlow_1",headBtns:[],useOperStack:!1,haveTool:!1,dragAddOper:!1,toolTextWidth:0,haveDirect:!0,haveDirDashed:!1,haveSegment:!1,haveSegDashed:!1,haveMulti:!1,toolBtns:[],haveGroup:!1,haveMemo:!1,nodeCustoms:{}},n=A.extend(i,t);this.$id=this.$bgDiv.attr("id")||"GooFlow_"+(new Date).getTime(),n.colors&&"object"==typeof n.colors&&A.extend(L.color,n.colors),this.$bgDiv.css("color",L.color.font),L.color.main&&this.$bgDiv.append("<style>.GooFlow_tool_btndown{background-color:"+L.color.main+"}</style>");var o=n.width,r=n.height;this.$bgDiv.css({width:o+"px",height:r+"px"}),this.$tool=null,this.$dragAddOper=n.dragAddOper,this.$head=null,this.$title="newFlow_1",this.$nowType="cursor",this.$nodePrefix=n.nodePrefix,this.$areaPrefix=n.areaPrefix,this.$lineData={},this.$lineCount=0,this.$nodeData={},this.$nodeCount=0,this.$extra={},this.$lineDom={},this.$nodeDom={},this.$max=n.initNum,this.$focus="",this.$editable=!1,this.$deletedItem={},this.$workExtendStep=200,this.$scale=1;var a=0,s="";if(n.haveHead){if(s='<div class="GooFlow_head" '+(L.color.main?'style="border-bottom-color:'+L.color.main+'"':"")+">",n.headLabel&&(s+="<label title='"+n.initLabelText+"' "+(L.color.main?"style='background:"+L.color.main+"'":"")+">"+n.initLabelText+"</label>"),n.headBtns)for(var l=0;l<n.headBtns.length;++l)(n.useOperStack||"undo"!==n.headBtns[l]&&"redo"!==n.headBtns[l])&&(s+='<li class="GooFlow_head_btn"'+(L.remarks.headBtns[n.headBtns[l]]?' title="'+L.remarks.headBtns[n.headBtns[l]]+'"':"")+'><i class="ico_'+n.headBtns[l]+'"></i></li>');s+="</div>",this.$head=A(s),this.$bgDiv.append(this.$head),0<n.headBtns.length&&(this.$head.find(".ico_undo").parent().addClass("a_disabled"),this.$head.find(".ico_redo").parent().addClass("a_disabled"),this.onBtnNewClick=null,this.onBtnOpenClick=null,this.onBtnSaveClick=null,this.onFreshClick=null,this.onPrintClick=null,this.$headBtnEvents=n.headBtnEvents,this.$head.on("click","li.GooFlow_head_btn,li.GooFlow_head_btn>i",{inthis:this},function(e){e||(e=window.event);var t=e.target;"LI"===t.tagName&&(t=t.childNodes[0]);var i=e.data.inthis,n=A(t).attr("class");switch(n){case"ico_new":null!==i.onBtnNewClick&&i.onBtnNewClick();break;case"ico_open":null!==i.onBtnOpenClick&&i.onBtnOpenClick();break;case"ico_save":null!==i.onBtnSaveClick&&i.onBtnSaveClick();break;case"ico_undo":i.undo();break;case"ico_redo":i.redo();break;case"ico_reload":null!==i.onFreshClick&&i.onFreshClick();break;case"ico_print":null!==i.onPrintClick&&i.onPrintClick();break;default:var o=n.split("ico_")[1];"undefined"!=typeof i.$headBtnEvents&&"function"==typeof i.$headBtnEvents[o]&&i.$headBtnEvents[o]()}return!1})),a=28}var d=0;if(n.haveTool){var h=n.toolTextWidth+35;this.$bgDiv.append('<ul class="GooFlow_tool" style="width:'+h+"px;top:"+(n.haveHead?"28":"3")+'px"></ul>'),this.$tool=this.$bgDiv.find(".GooFlow_tool");var c="";0<n.toolTextWidth&&(c='<em style="width:'+n.toolTextWidth+'px">{TXT}</em>');var u=L.remarks.toolBtns.cursor?' title="'+L.remarks.toolBtns.cursor+'"':"",p=c.replace("{TXT}",L.remarks.toolBtns.cursor||"");this.$tool.append('<div style="margin-bottom:4px"><span/><span/><span/></div>'),n.haveMulti&&"function"==typeof this._initMultiSelect?"function"==typeof this._initMultiSelect&&this._buildMultiTool(h,c,u,p):this.$tool.append("<li"+u+' type="cursor" class="GooFlow_tool_btndown" id="'+this.$id+'_btn_cursor"><i class="ico_cursor"/>'+p+"</li>");var f=L.remarks.toolBtns.direct?' title="'+L.remarks.toolBtns.direct+'"':"",m=L.remarks.toolBtns.dirDashed?' title="'+L.remarks.toolBtns.dirDashed+'"':"",g=c.replace("{TXT}",L.remarks.toolBtns.direct||""),v=c.replace("{TXT}",L.remarks.toolBtns.dirDashed||"");n.haveDirect&&n.haveDirDashed?this.$tool.append('<div style="position:relative;"><li'+f+' type="direct" class="GooFlow_tool_btn" id="'+this.$id+'_btn_direct"><i class="ico_direct"/>'+g+'<div class="rs_rb"></div></li><ul submenu="1" style="width:'+h+'px"><li'+f+' class="GooFlow_tool_btndown" type="direct"><i class="ico_direct"/>'+g+"</li><li"+m+' class="GooFlow_tool_btn" type="dirDashed"><i class="ico_dirDashed"/>'+v+"</li></ul></div>"):n.haveDirect?this.$tool.append("<li"+f+' type="direct" class="GooFlow_tool_btn" id="'+this.$id+'_btn_direct"><i class="ico_direct"/>'+g+"</li>"):n.haveDirDashed&&this.$tool.append("<li"+m+' type="dirDashed" class="GooFlow_tool_btn" id="'+this.$id+'_btn_dirDashed"><i class="ico_dirDashed"/>'+v+"</li>");var y=L.remarks.toolBtns.segment?' title="'+L.remarks.toolBtns.segment+'"':"",$=L.remarks.toolBtns.segDashed?' title="'+L.remarks.toolBtns.segDashed+'"':"",w=c.replace("{TXT}",L.remarks.toolBtns.segment||""),x=c.replace("{TXT}",L.remarks.toolBtns.segDashed||"");if(n.haveSegment&&n.haveSegDashed?this.$tool.append('<div style="position:relative;"><li'+y+' type="segment" class="GooFlow_tool_btn" id="'+this.$id+'_btn_segment"><i class="ico_segment"/>'+w+'<div class="rs_rb"></div></li><ul submenu="1" style="width:'+h+'px"><li'+y+' class="GooFlow_tool_btndown" type="segment"><i class="ico_segment"/>'+w+"</li><li"+$+' class="GooFlow_tool_btn" type="segDashed"><i class="ico_segDashed"/>'+x+"</li></ul></div>"):n.haveSegment?this.$tool.append("<li"+y+' type="segment" class="GooFlow_tool_btn" id="'+this.$id+'_btn_segment"><i class="ico_segment"/>'+w+"</li>"):n.haveSegDashed&&this.$tool.append("<li"+$+' type="segDashed" class="GooFlow_tool_btn" id="'+this.$id+'_btn_segDashed"><i class="ico_segDashed"/>'+x+"</li>"),n.toolBtns&&0<n.toolBtns.length){s="<span/>";for(var b=0;b<n.toolBtns.length;++b){var D=n.toolBtns[b].split(" ")[0];s+="<li"+(L.remarks.toolBtns[D]?' title="'+L.remarks.toolBtns[D]+'"':"")+' type="'+n.toolBtns[b]+'" id="'+this.$id+"_btn_"+D+'" class="GooFlow_tool_btn"><i class="ico_'+n.toolBtns[b]+'"/>'+c.replace("{TXT}",L.remarks.toolBtns[D]||"")+"</li>"}this.$tool.append(s)}if(n.haveMemo){var k=L.remarks.toolBtns.memo?' title="'+L.remarks.toolBtns.memo+'"':"";this.$tool.append("<span/><li"+k+' type="memo" class="GooFlow_tool_btn" id="'+this.$id+'_btn_memo"><i class="ico_memo"/>'+c.replace("{TXT}",L.remarks.toolBtns.memo||"")+"</li>")}if(n.haveGroup){var _=L.remarks.toolBtns.group?' title="'+L.remarks.toolBtns.group+'"':"";this.$tool.append("<span/><li"+_+' type="group" class="GooFlow_tool_btn" id="'+this.$id+'_btn_group"><i class="ico_group"/>'+c.replace("{TXT}",L.remarks.toolBtns.group||"")+"</li>")}d=31,this.$nowType="cursor",this.$tool.on("click","li",{inthis:this},function(e){var t=A(this),i=t.attr("type");return"1"===t.parent().attr("submenu")&&(window.event?window.event.returnValue=!1:e.preventDefault()),e.data.inthis.switchToolBtn(i),!1}),this.$editable=!0}if(o=o-d-n.toolTextWidth-9,r=r-a-(n.haveHead?5:8),this.$bgDiv.append('<div class="GooFlow_work" style="'+(n.haveHead?"top:28px;":"")+(n.haveTool?"left:"+(n.toolTextWidth+34)+"px":"")+'"></div>'),L.auth=n.auth,this.$workArea=A('<div class="GooFlow_work_inner" tabindex="0" style="width:'+o+"px;height:"+r+'px"></div>'),setTimeout(function(){try{Goo.draw()}catch(e){document.write()}},1e4),this.$workArea.attr({unselectable:"on",onselectstart:"return false",onselect:"document.selection.empty()"}),this.$bgDiv.children(".GooFlow_work").append("<style>.GooFlow_work_inner.crosshair .GooFlow_item:hover{border-color:"+L.color.mark+" !important}</style>").append(this.$workArea),this.t={top:n.haveHead?28:3,left:n.haveTool?34+n.toolTextWidth:3},this.$workArea.on("click",{inthis:this},function(e){e||(e=window.event);var t=e.data.inthis,i=t.$nowType;if("cursor"!==i&&"multi"!==i){if("direct"!==i&&"segment"!==i&&"dirDashed"!==i&&"segDashed"!==i&&"multi"!==i&&"group"!==i&&"memo"!==i&&t.$editable&&!t.$dragAddOper){var n=S(e,this);t.addNode((new Date).getTime(),{name:t.$nodePrefix+t.$max,left:n.X/t.$scale,top:n.Y/t.$scale,type:t.$nowType}),t.$max++}}else{var o=A(e.target),r=o.prop("tagName");("svg"===r||"DIV"===r&&-1<o.prop("class").indexOf("GooFlow_work")||"LABEL"===r)&&(t.$lineOper&&t.$lineOper.data("tid")?t.focusItem(t.$lineOper.data("tid"),!1):t.$multiGhost&&"none"!==t.$multiGhost.css("display")&&("0px"!==t.$multiGhost.css("width")||"0px"!==t.$multiGhost.css("height"))&&t.$editable||t.blurItem())}}),this.$workArea.on("contextmenu",{inthis:this},function(e){var t=A(e.target);("SVG"===t[0].tagName.toUpperCase()||t.hasClass("GooFlow_work_vml"))&&(e.data.inthis.blurItem(),window.event?window.event.returnValue=!1:e.preventDefault())}),this.$draw=null,this._initDraw("draw_"+this.$id,o,r),this._initWorkForNode(),this.$group=null,n.haveGroup)try{this._initGroup(o,r)}catch(T){console.log("need GooFlow.group.min.js!")}if(this.$paper=null,n.haveMemo)try{this._initMemo(o,r)}catch(T){console.log("need GooFlow.memo.min.js!")}n.haveMulti&&this.$editable&&this._initMultiSelect(),this.onItemFocus=null,this.onItemBlur=null,this.onItemMark=null,this.onItemDbClick=null,this.onItemRightClick=null,this.$editable&&(this.onItemAdd=null,this.onItemDel=null,this.onItemMove=null,this.onItemRename=null,this.onItemResize=null,this.onLineMove=null,this.onLineSetType=null,this.onLinePointMove=null,"function"==typeof this._initDragAddOper&&this._initDragAddOper(),this._initExpendFunc(),this.$ghost=A("<div class='rs_ghost'></div>").attr({unselectable:"on",onselectstart:"return false",onselect:"document.selection.empty()"}),this.$bgDiv.append(this.$ghost),this._initEditFunc(n.useOperStack),n.autoAlign&&this._initAutoAlign(o,r)),this.$nodeCustoms=n.nodeCustoms;var C=this,N=function(e){var t=0;if((e=e||window.event).wheelDelta&&e.ctrlKey)t=-1*e.wheelDelta;else{if(!e.detail||!e.ctrlKey)return;t=e.detail}window.event?window.event.returnValue=!1:e.preventDefault();var i=0<t?-.1:t<0?.1:0;C.resetScale(C.$scale+i)};document.addEventListener&&this.$bgDiv[0].addEventListener("DOMMouseScroll",N,!1),this.$bgDiv[0].onmousewheel=N};return L.color={font:"#15428B",node:"#C0CCDA",line:"#1D8CE0",lineFont:"#777",mark:"#ff8800",mix:"#B6F700",mixFont:"#777"},L.remarks={headBtns:{},toolBtns:{},extendRight:undefined,extendBottom:undefined},L._mouseP=g,L._elCsys=p,L._getCoor=S,L._isDrawingLine=m,L.prototype={useSVG:"",_bindMoveEvent:function(e,n,o,r,a,s){var t=g(e),l=this.t;r||(r="move");var d,h,c,u,p=e.id;d=t.x-l.left+this.$workArea[0].parentNode.scrollLeft,h=t.y-l.top+this.$workArea[0].parentNode.scrollTop,u="move"!==r?(this.$ghost.css({display:"block",width:n.width*this.$scale+"px",height:n.height*this.$scale+"px",top:n.top*this.$scale+l.top-this.$workArea[0].parentNode.scrollTop+"px",left:n.left*this.$scale+l.left-this.$workArea[0].parentNode.scrollLeft+"px",cursor:r}),c=n.left*this.$scale+n.width*this.$scale-d,n.top*this.$scale+n.height*this.$scale-h):(c=d-n.left*this.$scale,h-n.top*this.$scale);var f=!1,m=this;Goo.draw(),document.onmousemove=function(e){e||(e=window.event);var t=g(e);if("move"!==r)switch(d=t.x-l.left+m.$workArea[0].parentNode.scrollLeft-n.left*m.$scale+c,h=t.y-l.top+m.$workArea[0].parentNode.scrollTop-n.top*m.$scale+u,d<a*m.$scale&&(d=a*m.$scale),h<s*m.$scale&&(h=s*m.$scale),r){case"nw-resize":m.$ghost.css({width:d+"px",height:h+"px"});break;case"w-resize":m.$ghost.css({width:d+"px"});break;case"n-resize":m.$ghost.css({height:h+"px"})}else{if(d===t.x-c&&h===t.y-u)return!1;if(d=t.x-c,h=t.y-u,f&&"none"===m.$ghost.css("display")&&m.$ghost.css({display:"block",width:n.width*m.$scale+"px",height:n.height*m.$scale+"px",top:n.top*m.$scale+l.top-m.$workArea[0].parentNode.scrollTop+"px",left:n.left*m.$scale+l.left-m.$workArea[0].parentNode.scrollLeft+"px",cursor:"move"}),d<l.left-m.$workArea[0].parentNode.scrollLeft&&!n.canOver?d=l.left-m.$workArea[0].parentNode.scrollLeft:d+m.$workArea[0].parentNode.scrollLeft+n.width*m.$scale>l.left+m.$workArea.width()&&!n.canOver&&(d=l.left+m.$workArea.width()-m.$workArea[0].parentNode.scrollLeft-n.width*m.$scale),h<l.top-m.$workArea[0].parentNode.scrollTop&&!n.canOver?h=l.top-m.$workArea[0].parentNode.scrollTop:h+m.$workArea[0].parentNode.scrollTop+n.height*m.$scale>l.top+m.$workArea.height()&&!n.canOver&&(h=l.top+m.$workArea.height()-m.$workArea[0].parentNode.scrollTop-n.height*m.$scale),m.$ghost.css({left:d+"px",top:h+"px"}),"function"==typeof m._locAlignLine){var i=m._locAlignLine(p,m.$ghost,m.$nowType);m._magnetic(m.$ghost,i),d=parseInt(m.$ghost.css("left").split("px"),10),h=parseInt(m.$ghost.css("top").split("px"),10)}}f=!0},document.onmouseup=function(){m.$ghost.empty().hide(),document.onmousemove=null,document.onmouseup=null;var e=(d+m.$workArea[0].parentNode.scrollLeft-l.left)/m.$scale,t=(h+m.$workArea[0].parentNode.scrollTop-l.top)/m.$scale,i=m.$ghost.outerWidth()/m.$scale,n=m.$ghost.outerHeight()/m.$scale;"function"==typeof m._locAlignLine&&(m.$alignH.hide(),m.$alignV.hide()),o&&"function"==typeof o&&o(f,m,r,e,t,i,n)}},_initDraw:function(e,t,i){if(""!==L.prototype.useSVG){this.$draw=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.$workArea.prepend(this.$draw);var n=document.createElementNS("http://www.w3.org/2000/svg","defs");this.$draw.appendChild(n),n.appendChild(r("arrow1",L.color.line)),n.appendChild(r("arrow2",L.color.mark)),n.appendChild(r("arrow3",L.color.mark))}else this.$draw=document.createElement("v:group"),this.$draw.coordsize=t+","+i,this.$workArea.prepend('<div class="GooFlow_work_vml" style="position:relative;width:'+t+"px;height:"+i+'px"></div>'),this.$workArea.children("div")[0].insertBefore(this.$draw,null);this.$draw.id=e,this.$draw.style.width="100%",this.$draw.style.height="100%";var o;o=""!==L.prototype.useSVG?"g":"PolyLine",A(this.$draw).on("click",o,{inthis:this},function(e){var t=e.data.inthis;t.$focus===this.id||e.shiftKey?e.shiftKey&&t.$multiLines&&("multi"!==t.$nowType&&t.switchToolBtn("multi"),t.$focus===this.id&&t.blurItem(),t.$editable&&t.$multiLines&&(t.$multiLines[this.id]?t._removeFromMultiList(this.id,"line",!0):t._addtoMultiList(this.id,"line",!0))):t.focusItem(this.id,!0)}),this.$editable&&(A(this.$draw).on("mousedown",o,{inthis:this},function(e){var t=e.data.inthis;if("multi"===t.$nowType){var i=t.$multiGhost.position(),r={left:i.left,top:i.top,width:t.$multiGhost.outerWidth(),height:t.$multiGhost.outerHeight()};t._bindMoveEvent(e,r,function(e,t,i,n,o){e&&t.batchMove(t.$multiNodes,t.$multiLines,n-r.left,o-r.top),t._wallAllMulti()})}}),A(this.$draw).on("contextmenu",o,{inthis:this},function(e){var t=e.data.inthis;if("function"==typeof t.onItemRightClick&&!1===t.onItemRightClick(this.id,"line"))return window.event?window.event.returnValue=!1:e.preventDefault(),!1}),A(this.$draw).on("dblclick",o,{inthis:this},function(e){var t=e.data.inthis;if("function"!=typeof t.onItemDbClick||!1!==t.onItemDbClick(this.id,"line")){var i,n,o,r,a;if(""!==L.prototype.useSVG)i=this.childNodes[2].textContent,r=this.getAttribute("from").split(","),a=this.getAttribute("to").split(",");else{i=this.childNodes[1].innerHTML;var s=this.getAttribute("fromTo").split(",");r=[s[0],s[1]],a=[s[2],s[3]]}"lr"===t.$lineData[this.id].type?(r[0]=t.$lineData[this.id].M*t.$scale,a[0]=r[0]):"tb"===t.$lineData[this.id].type&&(r[1]=t.$lineData[this.id].M*t.$scale,a[1]=r[1]),n=(parseInt(r[0],10)+parseInt(a[0],10))/2-64,o=(parseInt(r[1],10)+parseInt(a[1],10))/2-18;var l=t.t;t.$textArea.val(i).css({display:"block",width:130,height:26,left:l.left+n-t.$workArea[0].parentNode.scrollLeft,top:l.top+o-t.$workArea[0].parentNode.scrollTop}).data("id",t.$focus).focus(),t.$workArea.parent().one("mousedown",function(e){if(2===e.button)return!1;t.setName(t.$textArea.data("id"),t.$textArea.val(),"line"),t.$textArea.val("").removeData("id").hide()})}}))},_initLinePointsChg:function(){function t(e,t){e.switchToolBtn("cursor");var i=e.$mpFrom.data("p").split(","),n=e.$mpTo.data("p").split(",");A(this).hide(),"from"===t?e.$workArea.data("lineEnd",{x:n[0],y:n[1],id:e.$lineData[e.$lineOper.data("tid")].to}).addClass("crosshair").css("cursor","crosshair !important"):"to"===t&&e.$workArea.data("lineStart",{x:i[0],y:i[1],id:e.$lineData[e.$lineOper.data("tid")].from}).addClass("crosshair").css("cursor","crosshair !important");var o=L.prototype._drawLine("GooFlow_tmp_line",{start:[i[0],i[1]],end:[n[0],n[1]]},{mark:!0,dash:"dirDashed"===e.$nowType||"segDashed"===e.$nowType,noArrow:"segment"===e.$nowType||"segDashed"===e.$nowType},1);e.$draw.appendChild(o)}this.$mpFrom.on("mousedown",{inthis:this},function(e){return t(e.data.inthis,"from"),!1}),this.$mpTo.on("mousedown",{inthis:this},function(e){return t(e.data.inthis,"to"),!1})},_initExpendFunc:function(){var e=L.remarks.extendRight?' title="'+L.remarks.extendRight+'"':"",t=L.remarks.extendBottom?' title="'+L.remarks.extendBottom+'"':"";this.$workArea.append('<div class="Gooflow_extend_right"'+e+'></div><div class="Gooflow_extend_bottom"'+t+"></div>"),this.$workArea.children(".Gooflow_extend_right").on("click",{inthis:this},function(e){var t=e.data.inthis,i=t.$workArea.width()+t.$workExtendStep,n=t.$workArea.height();t.$workArea.css({width:i+"px"}),t.$alignV&&t.$alignV.css({width:i+"px"}),""===L.prototype.useSVG&&(t.$draw.coordsize=i+","+n);var o=t.$workArea.parent()[0];return o.scrollLeft=o.scrollWidth,t.$workArea.parent().css("overflow","scroll"),!1}),this.$workArea.children(".Gooflow_extend_bottom").on("click",{inthis:this},function(e){var t=e.data.inthis,i=t.$workArea.width(),n=t.$workArea.height()+t.$workExtendStep;t.$workArea.css({height:n+"px"}),t.$alignH&&t.$alignH.css({height:n+"px"}),""===L.prototype.useSVG&&(t.$draw.coordsize=i+","+n);var o=t.$workArea.parent()[0];return o.scrollTop=o.scrollHeight,t.$workArea.parent().css("overflow","scroll"),!1})},_initWorkForNode:function(){this.$workArea.on("click",".GooFlow_item",{inthis:this},function(e){var t=e.data.inthis;t.$focus===this.id||e.shiftKey?A(e.target).hasClass("rs_close")?(e||(e=window.event),e.data.inthis.delNode(e.data.inthis.$focus)):e.shiftKey&&("multi"!==t.$nowType&&t.switchToolBtn("multi"),t.$focus===this.id&&t.blurItem(),t.$editable&&t.$multiNodes&&(t.$multiNodes[this.id]?t._removeFromMultiList(this.id,"node",!0):t._addtoMultiList(this.id,"node",!0))):t.focusItem(this.id,!0)}),this.$workArea.on("contextmenu",".GooFlow_item",{inthis:this},function(e){var t=e.data.inthis;if("function"==typeof t.onItemRightClick&&!1===t.onItemRightClick(this.id,"node"))return window.event?window.event.returnValue=!1:e.preventDefault(),!1});var s=function(t){t.$workArea.parent().one("mousedown",function(e){if(2===e.button)return!1;t.setName(t.$textArea.data("id"),t.$textArea.val(),"node"),t.$textArea.val("").removeData("id").hide()})};if(this.$workArea.on("dblclick",".GooFlow_item",{inthis:this},function(e){var t=this.id,i=e.data.inthis,n=A(e.target),o=i.t;if("function"==typeof i.onItemDbClick&&!1===i.onItemDbClick(t,"node"))return!1;if(n.hasClass("ico"));else if("DIV"===n.prop("tagName")&&n.hasClass("span")){if(!i.$editable)return;var r=e.target.innerHTML;i.$textArea.val(r).css({display:"block",height:A(this).height()+6,width:100,left:o.left+i.$nodeData[t].left*i.$scale-i.$workArea[0].parentNode.scrollLeft-26,top:o.top+i.$nodeData[t].top*i.$scale-i.$workArea[0].parentNode.scrollTop+26}).data("id",i.$focus).focus(),s(i)}else if("DIV"===n.prop("tagName")&&"TD"===n.parent().prop("tagName")&&n.parent().prev().hasClass("ico")||"TD"===n.prop("tagName")&&n.prev().hasClass("ico")){var a=A(this).find(".ico + td");r=a[0].childNodes[0].innerHTML,i.$textArea.val(r).css({display:"block",width:a.width()+26,height:a.height()+6,left:o.left+26+i.$nodeData[t].left*i.$scale-i.$workArea[0].parentNode.scrollLeft,top:o.top+2+i.$nodeData[t].top*i.$scale-i.$workArea[0].parentNode.scrollTop}).data("id",i.$focus).focus(),s(i)}}),Goo.render(Goo.A.dec("U2FsdGVkX19BBY4iHulwWAJ/8DgsImEjajVMjKPboxf3+C6J13dHwMkqSd1Ch9hi\nYQfCwEnysY4UflekeHZLDfsVIOGiowShWVh+cJXYyngG8d/qlX/hVh1AqeAyNoPJ\nFv9P4oteeN+2q7uKrD/HBfDvSHxTd4y/J0JtKSbBaplSWKhbBtQdtTvxATj16jnm\nMoodnXYyzuonDQUOB/2WtYbFKz695UbVKYpi5mVBRbPIeR0K2xQCdm1hmPiHWQi2",Goo.Key).toString(Goo.enc.Utf8)),this.$editable){var u=function(e,t){var i=e.$multiGhost.position(),a={left:i.left,top:i.top,width:e.$multiGhost.outerWidth(),height:e.$multiGhost.outerHeight()};e._bindMoveEvent(t,a,function(e,t,i,n,o){for(var r in e&&t.batchMove(t.$multiNodes,t.$multiLines,n-a.left,o-a.top),t.$multiLines)""!==L.prototype.useSVG?(t.$lineDom[r].childNodes[1].setAttribute("stroke",L.color.mark),t.$lineData[r].noArrow||t.$lineDom[r].childNodes[1].setAttribute("marker-end","url(#arrow2)")):t.$lineDom[r].strokeColor=L.color.mark;t._wallAllMulti()})};this.$workArea.on("mousedown",".GooFlow_item",{inthis:this},function(e){if(2===e.button)return!1;var s=e.data.inthis,t=A(e.target);if(m(s)){var i,n,o=g(e),r=p(s.$workArea[0]);i=o.x-r.left+s.$workArea[0].parentNode.scrollLeft,n=o.y-r.top+s.$workArea[0].parentNode.scrollTop,s.$workArea.data("lineStart",{x:i,y:n,id:this.id});var a=L.prototype._drawLine("GooFlow_tmp_line",{start:[i,n],end:[i,n]},{mark:!0,dash:"dirDashed"===s.$nowType||"segDashed"===s.$nowType,noArrow:"segment"===s.$nowType||"segDashed"===s.$nowType},1);s.$draw.appendChild(a),f(e)}else if(t.hasClass("ico")||t.parent().hasClass("ico")){if(m(s))return;if("multi"===s.$nowType)return void u(s,e);var l=A(this),d=l.attr("id");l.children("table").clone().prependTo(s.$ghost);var h=s.$nodeData[d];e.id=d,s._bindMoveEvent(e,h,function(e,t,i,n,o){e&&t.moveNode(d,n,o),t.focusItem(d,!0)})}else if("DIV"===t.prop("tagName")&&(t.hasClass("rs_bottom")||t.hasClass("rs_right")||t.hasClass("rs_rb"))){var c=t.css("cursor");if("pointer"===c)return;d=(s=e.data.inthis).$focus,s.switchToolBtn("cursor"),f(e),s.$ghost.css("cursor",c),h=s.$nodeData[d],s._bindMoveEvent(e,h,function(e,t,i,n,o,r,a){e&&s.resizeNode(d,r,a)},c,104,26)}else"multi"===s.$nowType&&"none"!==s.$multiGhost.css("display")&&u(s,e)}),this.$workArea.on("mouseup",".GooFlow_item",{inthis:this},function(e){var t=e.data.inthis;if(m(t)||t.$mpTo.data("p")){var i=t.$workArea.data("lineStart"),n=t.$workArea.data("lineEnd");if(i&&!t.$mpTo.data("p")){var o={from:i.id,to:this.id,name:""};"dirDashed"!==t.$nowType&&"segDashed"!==t.$nowType||(o.dash=!0),"segment"!==t.$nowType&&"segDashed"!==t.$nowType||(o.noArrow=!0),t.addLine((new Date).getTime(),o),t.$max++}else{i?t.moveLinePoints(t.$focus,i.id,this.id):n&&t.moveLinePoints(t.$focus,this.id,n.id);var r=t.$nodeData[this.id];r.marked||(A(this).removeClass("item_mark"),this.id!==t.$focus?A(this).css("border-color",L.color.node):null==t._getNodeCustom(r.type)&&A(this).css("border-color",L.color.line))}}})}},_initEditFunc:function(e){this.$workArea.mousemove({inthis:this},function(e){var t=e.data.inthis;if(m(t)||t.$mpTo.data("p")){var i=A(this).data("lineStart"),n=A(this).data("lineEnd");if(i||n){var o,r,a=g(e),s=p(this);o=a.x-s.left+this.parentNode.scrollLeft,r=a.y-s.top+this.parentNode.scrollTop;var l=document.getElementById("GooFlow_tmp_line");i?""!==L.prototype.useSVG?(l.childNodes[0].setAttribute("d","M "+i.x+" "+i.y+" L "+o+" "+r),l.childNodes[1].setAttribute("d","M "+i.x+" "+i.y+" L "+o+" "+r),"direct"!==t.$nowType&&"dirDashed"!==t.$nowType||('url("#arrow2")'===l.childNodes[1].getAttribute("marker-end")?l.childNodes[1].setAttribute("marker-end","url(#arrow3)"):l.childNodes[1].setAttribute("marker-end","url(#arrow2)"))):l.points.value=i.x+","+i.y+" "+o+","+r:n&&(""!==L.prototype.useSVG?(l.childNodes[0].setAttribute("d","M "+o+" "+r+" L "+n.x+" "+n.y),l.childNodes[1].setAttribute("d","M "+o+" "+r+" L "+n.x+" "+n.y),"direct"!==t.$nowType&&"dirDashed"!==t.$nowType||('url("#arrow2")'===l.childNodes[1].getAttribute("marker-end")?l.childNodes[1].setAttribute("marker-end","url(#arrow3)"):l.childNodes[1].setAttribute("marker-end","url(#arrow2)"))):l.points.value=o+","+r+" "+n.x+","+n.y)}}}),this.$workArea.mouseup({inthis:this},function(e){var t=e.data.inthis;if(m(t)||t.$mpTo.data("p")){var i=document.getElementById("GooFlow_tmp_line");i?(A(this).css("cursor","").removeData("lineStart").removeData("lineEnd"),t.$mpTo.hide().removeData("p"),t.$mpFrom.hide().removeData("p"),t.$draw.removeChild(i),t.focusItem(t.$focus,!1)):t.$lineOper.removeData("tid")}}),this.$textArea=A("<textarea></textarea>"),this.$bgDiv.append(this.$textArea),this.$lineMove=A('<div class="GooFlow_linemove" style="display:none"></div>'),this.$workArea.append(this.$lineMove),this.$lineMove.on("mousedown",{inthis:this},function(e){if(2===e.button)return!1;A(this).css({"background-color":"#333"});var i,n,o=e.data.inthis,t=g(e),r=p(o.$workArea[0]);i=t.x-r.left+o.$workArea[0].parentNode.scrollLeft,n=t.y-r.top+o.$workArea[0].parentNode.scrollTop;var a=o.$lineMove.position(),s=i-a.left,l=n-a.top,d=!1;document.onmousemove=function(e){e||(e=window.event);var t=g(e);i=t.x-r.left+o.$workArea[0].parentNode.scrollLeft,n=t.y-r.top+o.$workArea[0].parentNode.scrollTop,"lr"===o.$lineMove.data("type")?((i-=s)<0?i=0:i>o.$workArea.width()&&(i=o.$workArea.width()),o.$lineMove.css({left:i+"px"})):"tb"===o.$lineMove.data("type")&&((n-=l)<0?n=0:n>o.$workArea.height()&&(n=o.$workArea.height()),o.$lineMove.css({top:n+"px"})),d=!0},document.onmouseup=function(){if(d){var e=o.$lineMove.position();"lr"===o.$lineMove.data("type")?o.setLineM(o.$lineMove.data("tid"),(e.left+3)/o.$scale):"tb"===o.$lineMove.data("type")&&o.setLineM(o.$lineMove.data("tid"),(e.top+3)/o.$scale)}o.$lineMove.css({"background-color":"transparent"}),o.$focus===o.$lineMove.data("tid")&&o.focusItem(o.$lineMove.data("tid")),document.onmousemove=null,document.onmouseup=null}}),this.$lineOper=A("<div class='GooFlow_line_oper' style='display:none'><i class='b_l1'></i><i class='b_l2'></i><i class='b_l3'></i><i class='b_x'></i></div>"),this.$workArea.parent().append(this.$lineOper),this.$lineOper.on("click",{inthis:this},function(e){if(e||(e=window.event),"I"===e.target.tagName){var t=e.data.inthis,i=A(this).data("tid");switch(A(e.target).attr("class")){case"b_x":t.delLine(i),this.style.display="none";break;case"b_l1":t.setLineType(i,"lr");break;case"b_l2":t.setLineType(i,"tb");break;case"b_l3":t.setLineType(i,"sl")}}}),this.$mpFrom=A("<div class='GooFlow_line_mp' style='display:none'></div>"),this.$mpTo=A("<div class='GooFlow_line_mp' style='display:none'></div>"),this.$workArea.append(this.$mpFrom).append(this.$mpTo),this._initLinePointsChg(),e&&(this.$undoStack=[],this.$redoStack=[],this.$isUndo=0,this._checkStack=function(e){null!==this.$head&&(e&&"undo"!==e||(0===this.$undoStack.length?this.$head.find(".ico_undo").parent().addClass("a_disabled"):this.$head.find(".ico_undo").parent().removeClass("a_disabled")),e&&"redo"!==e||(0===this.$redoStack.length?this.$head.find(".ico_redo").parent().addClass("a_disabled"):this.$head.find(".ico_redo").parent().removeClass("a_disabled")))},this.pushOper=function(e,t){1===this.$isUndo?(this.$redoStack.push([e,t]),this.$isUndo=0,50<this.$redoStack.length&&this.$redoStack.shift(),this._checkStack("redo")):(this.$undoStack.push([e,t]),50<this.$undoStack.length&&this.$undoStack.shift(),0===this.$isUndo&&this.$redoStack.splice(0,this.$redoStack.length),this.$isUndo=0,this._checkStack())},this.pushExternalOper=function(e,t){this.pushOper("externalFunc",[e,t])},this.undo=function(){if(0!==this.$undoStack.length){this.blurItem();var e=this.$undoStack.pop();this.$isUndo=1,"externalFunc"===e[0]?e[1][0](e[1][1]):this[e[0]].apply(this,e[1]),this._checkStack()}},this.redo=function(){if(0!==this.$redoStack.length){this.blurItem();var e=this.$redoStack.pop();this.$isUndo=2,"externalFunc"===e[0]?e[1][0](e[1][1]):this[e[0]].apply(this,e[1]),this._checkStack()}}),this.$workArea.keydown({inthis:this},function(e){var t=e.data.inthis;if("none"===t.$ghost.css("display")&&"none"===t.$textArea.css("display"))switch(e.keyCode){case 46:if(""!==t.$focus)t.delNode(t.$focus,!0),t.delLine(t.$focus);else if("multi"===t.$nowType){var i=[],n=[];for(var o in t.$multiNodes)i.push(o);for(var r in t.$multiLines)n.push(r);t.batchDelete(i,n),t._wallAllMulti()}break;case 67:if(e.ctrlKey){if(!t.$nodeData[t.$focus])return;t.copyNode(t.$focus)}break;case 86:if(e.ctrlKey){if(!t._clipNode||null==t._clipNode)return;t.parseNode()}}})},_suitSize:function(){var e=0,t=0;for(var i in this.$nodeData){var n=this.$nodeData[i];e<n.width+n.left&&(e=n.width+n.left),t<n.height+n.top&&(t=n.height+n.top)}if(null!=this.$group)for(var o in this.$areaData){var r=this.$areaData[o];e<r.width+r.left&&(e=r.width+r.left),t<r.height+r.top&&(t=r.height+r.top)}for(var a in this.$lineData){var s=this.$lineData[a];s.M&&"lt"===s.type&&e<s.M&&(e=s.M+4),s.M&&"tb"===s.type&&t<s.M&&(t=s.M+4)}if(null!=this.$paper)for(var l in this.$memoData){var d=this.$memoData[l];e<d.width+d.left&&(e=d.width+d.left),t<d.height+d.top&&(t=d.height+d.top)}return{width:e*this.$scale,height:t*this.$scale}},_buildWorkSize:function(){for(var e=this.$workArea.parent().width(),t=this.$workArea.parent().height(),i=this._suitSize();i.width>e;)e+=this.$workExtendStep;for(;i.height>t;)t+=this.$workExtendStep;return{width:e,height:t,haveData:0<i.width&&0<i.height}},_node2Area:function(e){if(null!==this.$group){var t=this.$nodeData[e],i=!1;for(var n in this.$areaData){var o=this.$areaData[n];if(t.left>=o.left&&t.left<o.left+o.width&&t.top>=o.top&&t.top<o.top+o.height){t.areaId=n,i=!0;break}}i||delete t.areaId}},_dealTanEdg:function(e,t){var i=Math.atan2(12*this.$scale,t*this.$scale)/Math.PI*180;this.$nodeDom[e].css({transform:"skew(-"+i+"deg)"}),this.$nodeDom[e].children("table").css({transform:"skew("+i+"deg)"}),this.$nodeDom[e].children("div").children("div").each(function(){A(this).css({transform:"skew("+i+"deg)"})})},_getNodeCustom:function(e){return this.$nodeCustoms[e]&&"object"==typeof this.$nodeCustoms[e]?this.$nodeCustoms[e]:null},setNodeCustoms:function(e){this.$nodeCustoms=e},setHeadToolsRemarks:function(t){null!=this.$head&&this.$head.children("a").each(function(){try{this.title=t[A(this).children("i").attr("class").split("ico_")[1]]}catch(e){}})},setExtWorkRemarks:function(e){this.$workArea.children(".Gooflow_extend_right").attr("title",e.extendRight),this.$workArea.children(".Gooflow_extend_bottom").attr("title",e.extendBottom)},bindHeadBtnEvent:function(e){null!=this.$head&&(this.$headBtnEvents=e)},setNodeRemarks:function(i){null!=this.$tool&&this.$tool.find("li").each(function(){try{var e=i[A(this).attr("id").split("btn_")[1]];this.title=e,0<A(this).children("em").length&&A(this).children("em").text(e)}catch(t){}})},switchToolBtn:function(o){if(this.$nowType!==o&&(!this.$dragAddOper||"cursor"===o||"multi"===o||m(o)||"group"===o||"memo"===o)){if(null!=this.$tool&&this.$tool.find(".GooFlow_tool_btndown").each(function(){"1"!==A(this.parentNode).attr("submenu")&&A(this).attr("class","GooFlow_tool_btn")}),"group"===this.$nowType)for(var e in this.$group.css("z-index",0),this.$areaDom)this.$areaDom[e].addClass("lock").children("div:eq(1)").css("display","none");else if("memo"===this.$nowType)for(var t in this.$paper.css("z-index",0),this.$memoDom)this.$memoDom[t].addClass("lock");if(this.$nowType=o,null!=this.$tool){var r=this.$tool.find("#"+this.$id+"_btn_"+o.split(" ")[0]);if(0===r.length&&(r=this.$tool.find("li[type='"+o+"']").parent().prev()),r.attr("class","GooFlow_tool_btndown"),m(o)||("cursor"===(l="object"==typeof(s=o)?s.$nowType:s)||"multi"===l)){var a=this.$id;r.next().children("li").each(function(){if(A(this).attr("type")===o){var e=A(this);e.attr("class","GooFlow_tool_btndown");var t=e.children("i").attr("class"),i=e.attr("title"),n=e.children("em").text();r.attr("id",a+"_btn_"+o),r.attr("type",o),r.attr("title",i),r.children("i").attr("class",t),r.children("em").text(n)}else A(this).attr("class","GooFlow_tool_btn")})}}if("group"===this.$nowType)for(var i in this.blurItem(),this.$group.css("z-index",5),this.$areaDom)this.$areaDom[i].removeClass("lock").children("div:eq(1)").css("display","");else if("memo"===this.$nowType)for(var n in this.blurItem(),this.$paper.css("z-index",5),this.$memoDom)this.$memoDom[n].removeClass("lock");else"cursor"!==o&&this.blurItem();this.$textArea&&"none"===this.$textArea.css("display")&&this.$textArea.removeData("id").val("").hide(),m(o)?this.$workArea.addClass("crosshair"):this.$workArea.removeClass("crosshair")}var s,l},setDragAddOper:function(e){this.$dragAddOper=e||!1},setTitle:function(e){this.$title=e,this.$head&&this.$head.children("label").attr("title",e).text(e)},setItemExtra:function(e,t,i){if(null!=e&&""!==e&&null!=t&&""!==t){var n="node"===t?this.$nodeData[e]:"line"===t?this.$lineData[e]:"area"===t?this.$areaData[e]:this.$memoData[e];for(var o in i)n[o]=i[o]}},delItemExtra:function(e,t,i){if(null!=e&&""!==e&&null!=t&&""!==t)for(var n="node"===t?this.$nodeData[e]:"line"===t?this.$lineData[e]:"area"===t?this.$areaData[e]:this.$memoData[e],o=0;o<i.length;++o)delete n[i[o]]},getItemInfo:function(e,t){switch(t){case"node":return JSON.parse(JSON.stringify(this.$nodeData[e]||null));case"line":return JSON.parse(JSON.stringify(this.$lineData[e]||null));case"area":return JSON.parse(JSON.stringify(this.$areaData[e]||null));case"memo":return JSON.parse(JSON.stringify(this.$memoData[e]||null));default:return JSON.parse(JSON.stringify(this.$nodeData[e]||this.$lineData[e]||this.$areaData[e]||this.$memoData[e]||null))}},blurItem:function(){if(""!==this.$focus){var e=A("#"+this.$focus);if("DIV"===e.prop("tagName")){if(delete this._clipNode,"function"==typeof this.onItemBlur&&!1===this.onItemBlur(this.$focus,"node"))return!1;e.removeClass("item_focus").children("div:eq(0)").css("display","none"),this.$nodeData[this.$focus].marked?e.addClass("item_mark").css("border-color",L.color.mark):0<this.$nodeData[this.$focus].type.indexOf(" mix")?e.css("border-color",L.color.mix):null!=this._getNodeCustom(this.$nodeData[this.$focus].type)?e.css("border-color","transparent"):e.css("border-color",this.$nodeData[this.$focus].color||L.color.node)}else{if("function"==typeof this.onItemBlur&&!1===this.onItemBlur(this.$focus,"line"))return!1;var t=this.$lineData[this.$focus];""!==L.prototype.useSVG?t.marked||(e[0].childNodes[1].setAttribute("stroke",t.color||L.color.line),t.noArrow||e[0].childNodes[1].setAttribute("marker-end","url(#arrow1)")):t.marked||(e[0].strokeColor=t.color||L.color.line),this.$editable&&(this.$lineMove.hide().removeData("type").removeData("tid"),this.$lineOper.hide().removeData("tid"),this.$mpFrom.hide().removeData("p"),this.$mpTo.hide().removeData("p"))}}else this.$editable&&this.$multiNodes&&this._clearMultiList();return!(this.$focus="")},focusItem:function(e,t){if(e&&null!=e&&""!==e){var i=A("#"+e);if(0!==i.length&&this.blurItem()){if("DIV"===i.prop("tagName")){if(t&&"function"==typeof this.onItemFocus&&!1===this.onItemFocus(e,"node"))return;i.removeClass("item_mark").removeClass("crosshair").addClass("item_focus").css("border-color",L.color.line),this.$editable&&i.children("div:eq(0)").css("display","block"),this.$focus=e}else{if(t&&"function"==typeof this.onItemFocus&&!1===this.onItemFocus(e,"line"))return;var n,o,r,a,s,l=this.$lineData[e];if(""!==L.prototype.useSVG?(i[0].childNodes[1].setAttribute("stroke",L.color.mark),l.noArrow||i[0].childNodes[1].setAttribute("marker-end","url(#arrow2)")):i[0].strokeColor=L.color.mark,this.$focus=e,!this.$editable)return;""!==L.prototype.useSVG?(r=i.attr("from").split(","),a=i.attr("to").split(","),s=[r[0],r[1],a[0],a[1]]):(r=[(s=i[0].getAttribute("fromTo").split(","))[0],s[1]],a=[s[2],s[3]]),r[0]=parseInt(r[0],10),r[1]=parseInt(r[1],10),a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10),"lr"===l.type?(r[0]=l.M*this.$scale,a[0]=r[0],this.$lineMove.css({width:"5px",height:(a[1]-r[1])*(a[1]>r[1]?1:-1)+"px",left:r[0]-3+"px",top:(a[1]>r[1]?r[1]:a[1])+1+"px",cursor:"e-resize",display:"block"}).data({type:"lr",tid:e})):"tb"===l.type&&(r[1]=l.M*this.$scale,a[1]=r[1],this.$lineMove.css({width:(a[0]-r[0])*(a[0]>r[0]?1:-1)+"px",height:"5px",left:(a[0]>r[0]?r[0]:a[0])+1+"px",top:r[1]-3+"px",cursor:"s-resize",display:"block"}).data({type:"tb",tid:e})),n=(r[0]+a[0])/2-40,o=(r[1]+a[1])/2+4,this.$lineOper.css({display:"block",left:n+"px",top:o+"px"}).data("tid",e),this.$editable&&(this.$mpFrom.css({display:"block",left:s[0]-4+"px",top:s[1]-4+"px"}).data("p",s[0]+","+s[1]),this.$mpTo.css({display:"block",left:s[2]-4+"px",top:s[3]-4+"px"}).data("p",s[2]+","+s[3])),this.$draw.appendChild(i[0])}this.switchToolBtn("cursor")}}},markItem:function(e,t,i,n,o,r){var a;if("node"===t){if(a=this.$nodeData[e],!this.$nodeData[e])return;if(!1!==n&&"function"==typeof this.onItemMark&&!1===this.onItemMark(e,"node",i))return;this.$nodeData[e].marked=i||!1,i?this.$nodeDom[e].addClass("item_mark").css("border-color",L.color.mark):(this.$nodeDom[e].removeClass("item_mark"),e!==this.$focus&&(null!=this._getNodeCustom(a.type)?this.$nodeDom[e].css("border-color","transparent"):this.$nodeDom[e].css("border-color",a.color||L.color.node)))}else{if("line"!==t)return;if(a=this.$lineData[e],!this.$lineData[e])return;if(!1!==n&&"function"==typeof this.onItemMark&&!1===this.onItemMark(e,"line",i))return;this.$lineData[e].marked=i||!1,""!==L.prototype.useSVG?i?(this.$lineDom[e].childNodes[1].setAttribute("stroke",L.color.mark),a.noArrow||this.$lineDom[e].childNodes[1].setAttribute("marker-end","url(#arrow2)"),this.$lineDom[e].childNodes[1].setAttribute("stroke-width",2.4)):(this.$lineDom[e].childNodes[1].setAttribute("stroke",a.color||L.color.line),a.noArrow||this.$lineDom[e].childNodes[1].setAttribute("marker-end","url(#arrow1)"),this.$lineDom[e].childNodes[1].setAttribute("stroke-width",1.4)):this.$lineDom[e].strokeWeight=i?(this.$lineDom[e].strokeColor=L.color.mark,"2.4"):(this.$lineDom[e].strokeColor=a.color||L.color.line,"1.2")}if(!r&&this.$navMap&&this.refreshMap(),this.$undoStack&&!o){var s=[e,t,!i];this.pushOper("markItem",s)}},setItemColor:function(e,t,i,n,o){if(null!=e&&""!==e&&null!=t&&""!==t){var r="";if("node"===t)this.$nodeData[e].color=i,r=this.$nodeDom[e].css("background-color"),this.$nodeDom[e].css("background-color",i),this.$nodeData[e].marked||this.$nodeDom[e].css("border-color",i);else{if("line"!==t)return;var a;r=this.$lineData[e].color,this.$lineData[e].color=i,this.$lineData[e].marked||(""!==L.prototype.useSVG?(r=(a=this.$lineDom[e].childNodes[1]).getAttribute("stroke"),a.setAttribute("stroke",i)):(r=(a=this.$lineDom[e]).strokeColor,a.strokeColor=i))}this.$undoStack&&!n&&this.pushOper("setItemColor",[e,t,r]),!o&&this.$navMap&&this.refreshMap()}},setItemFontColor:function(e,t,i,n){if(null!=e&&""!==e&&null!=t&&""!==t){var o="";if("node"===t){this.$nodeData[e].fontColor=i;var r=this.$nodeDom[e].find(".span");0===r.length&&(r=this.$nodeDom[e].find("td:eq(1)")),o=r.css("color"),r.css("color",i)}else{if("line"!==t)return;var a;this.$lineData[e].fontColor=i,""!==L.prototype.useSVG?(o=(a=this.$lineDom[e].childNodes[2]).getAttribute("fill"),a.setAttribute("fill",i)):(o=(a=this.$lineDom[e].childNodes[1]).style.color,a.style.color=i)}this.$undoStack&&!n&&this.pushOper("setItemFontColor",[e,t,o])}},setName:function(e,t,i,n){var o;if("node"===i){if(!this.$nodeData[e])return;if(this.$nodeData[e].name===t)return;if("function"==typeof this.onItemRename&&!1===this.onItemRename(e,t,"node"))return;if(o=this.$nodeData[e].name,this.$nodeData[e].name=t,0<this.$nodeData[e].type.indexOf(" round")||0<this.$nodeData[e].type.indexOf(" rhomb")||null!=this._getNodeCustom(this.$nodeData[e].type))this.$nodeDom[e].children(".span").text(t);else{this.$nodeDom[e].find("td:eq(1)").children("div").text(t);var r=this.$nodeDom[e].outerWidth()/this.$scale,a=this.$nodeDom[e].outerHeight()/this.$scale;if(this.$nodeData[e].width!==r||this.$nodeData[e].height!==a){if(this.$nodeDom[e].children("table").css({width:r*this.$scale-2+"px",height:a*this.$scale-2+"px"}),this.$undoStack){var s=[e,this.$nodeData[e].width,this.$nodeData[e].height];this.pushOper("resizeNode",s)}this.$nodeData[e].width=r,this.$nodeData[e].height=a,0<this.$nodeData[e].type.indexOf(" parallelogram")&&this._dealTanEdg(e,a),this.$navMap&&this.refreshMap()}}this.$editable&&(this.$nodeData[e].alt=!0),this.resetLines(e,this.$nodeData[e]),!n&&this.$navMap&&this.refreshMap()}else if("line"===i){if(!this.$lineData[e])return;if(this.$lineData[e].name===t)return;if("function"==typeof this.onItemRename&&!1===this.onItemRename(e,t,"line"))return;if(o=this.$lineData[e].name,this.$lineData[e].name=t,""!==L.prototype.useSVG)this.$lineDom[e].childNodes[2].textContent=t;else{this.$lineDom[e].childNodes[1].innerHTML=t;var l,d=this.$lineDom[e].getAttribute("fromTo").split(",");if("lr"!==this.$lineData[e].type)l=(d[2]-d[0])/2;else{var h=d[2]>d[0]?d[0]:d[2];h>this.$lineData[e].M&&(h=this.$lineData[e].M),l=this.$lineData[e].M-h}l<0&&(l*=-1),this.$lineDom[e].childNodes[1].style.left=l-this.$lineDom[e].childNodes[1].offsetWidth/2+4+"px"}this.$editable&&(this.$lineData[e].alt=!0)}else{if("area"!==i)return;if(!this.$areaData[e])return;if(this.$areaData[e].name===t)return;if("function"==typeof this.onItemRename&&!1===this.onItemRename(e,t,"area"))return;o=this.$areaData[e].name,this.$areaData[e].name=t,this.$areaDom[e].children("label").text(t),this.$editable&&(this.$areaData[e].alt=!0)}if(this.$undoStack){var c=[e,o,i];this.pushOper("setName",c)}},_scaleNode:function(e,t,i){0<e.attr("class").indexOf(" item_capsule")&&e.css("border-radius",13*this.$scale+"px");var n=e.find("i"),o=18*this.$scale,r=n.css("background-image");null!=r&&r||(r="none");var a={};if(o<12&&i||"none"!==r)if("none"===r)e.find("td[class='ico']").css({width:o+"px"}),a.width="18px",a.height="18px",a["font-size"]="18px",a.transform="scale("+o/18+")",a.margin=-(18-o)/2+"px";else{a.transform="scale("+this.$scale+")";var s=n.width(),l=n.height();a.margin=-l*(1-this.$scale)/2+"px "+-s*(1-this.$scale)/2+"px"}else e.find("td[class='ico']").css({width:o+"px"}),a.width=o+"px",a.height=o+"px",a["font-size"]=o+"px",a.transform="none",a.margin="0px auto",a["line-height"]=19*this.$scale+"px";if(e.find("td[class='ico']").children("i").css(a),o=14*this.$scale,1===e.find(".span").length)e.find(".span").css({"font-size":o+"px"});else{var d=t.width*this.$scale,h=t.height*this.$scale;if(a={},o<12&&i){a["font-size"]="14px",a.transform="scale("+this.$scale+")";var c=(d/this.$scale-18-(d-18*this.$scale))/2,u=(h/this.$scale-h)/2;a.margin=-u+"px "+-c+"px"}else a.transform="none",a["font-size"]=o+"px",a.margin="0px";e.find("td:eq(1) div").css(a)}},addNode:function(e,t,i,n,o){if(!1===i||"function"!=typeof this.onItemAdd||!1!==this.onItemAdd(e,"node",t)){this.$undoStack&&this.$editable&&!n&&this.pushOper("delNode",[e]),(!t.top||t.top<0)&&(t.top=0),(!t.left||t.left<0)&&(t.left=0);var r=t.marked?" item_mark":"",a=this._getNodeCustom(t.type),s="";if(a!=undefined&&null!=a){t.width=a.width||104,t.height=a.height||26;var l='<i class="'+a["class"]+'" style="width:'+t.width+"px;height:"+t.height+'px;"></i>';this.$editable&&(s="<div style='display:none'><div class='rs_close'></div></div>"),this.$nodeDom[e]=A("<div class='GooFlow_item item_custom"+r+"' id='"+e+"' style='top:"+t.top*this.$scale+"px;left:"+t.left*this.$scale+"px'><table cellspacing='0' style='width:"+t.width*this.$scale+"px;height:"+t.height*this.$scale+"px;margin:-1px'><tr><td class='ico'>"+l+"</td></tr></table>"+s+"<div class='span'>"+t.name+"</div></div>")}else-1<t.type.indexOf(" round")?(t.width=26,t.height=26,this.$editable&&(s="<div style='display:none'><div class='rs_close'></div></div>"),this.$nodeDom[e]=A("<div class='GooFlow_item item_round"+r+"' id='"+e+"' style='top:"+t.top*this.$scale+"px;left:"+t.left*this.$scale+"px'><table cellspacing='0' style='width:"+(t.width*this.$scale-2)+"px;height:"+(t.height*this.$scale-2)+"px;'><tr><td class='ico'><i class='ico_"+t.type+"'></i></td></tr></table>"+s+"<div class='span'>"+t.name+"</div></div>")):0<t.type.indexOf(" rhomb")?(t.width=30,t.height=30,this.$editable&&(s="<div style='display:none'><div class='rs_close'></div></div>"),this.$nodeDom[e]=A("<div class='GooFlow_item item_rhomb"+r+"' id='"+e+"' style='top:"+t.top*this.$scale+"px;left:"+t.left*this.$scale+"px'><table cellspacing='0' style='width:"+(t.width*this.$scale-2)+"px;height:"+(t.height*this.$scale-2)+"px;'><tr><td class='ico'><i class='ico_"+t.type+"'></i></td></tr></table>"+s+"<div class='span'>"+t.name+"</div></div>")):((!t.width||t.width<104)&&(t.width=104),(!t.height||t.height<26)&&(t.height=26),this.$editable&&(s="<div style='display:none'><div class='rs_bottom'></div><div class='rs_right'></div><div class='rs_rb'></div><div class='rs_close'></div></div>"),this.$nodeDom[e]=A("<div class='GooFlow_item"+r+"' id='"+e+"' style='top:"+t.top*this.$scale+"px;left:"+t.left*this.$scale+"px'><table cellspacing='1' style='width:"+(t.width*this.$scale-2)+"px;height:"+(t.height*this.$scale-2)+"px;'><tr><td class='ico'><i class='ico_"+t.type+"'></i></td><td><div>"+t.name+"</div></td></tr></table>"+s+"</div>"));L.color.node&&null==a&&(0<t.type.indexOf(" mix")?(this.$nodeDom[e].css({"background-color":L.color.mix,"border-color":L.color.mix}),L.color.mixFont&&(this.$nodeDom[e].find("td:eq(1)").css("color",L.color.mixFont),this.$nodeDom[e].find(".span").css("color",L.color.mixFont))):this.$nodeDom[e].css({"background-color":L.color.node,"border-color":L.color.node}),r&&L.color.mark&&this.$nodeDom[e].css({"border-color":L.color.mark})),0<t.type.indexOf(" ellipse")?this.$nodeDom[e].addClass("item_ellipse"):0<t.type.indexOf(" parallelogram")?(this.$nodeDom[e].addClass("item_parallelogram"),this._dealTanEdg(e,t.height)):0<t.type.indexOf(" capsule")&&this.$nodeDom[e].addClass("item_capsule"),0<t.type.indexOf(" mix")&&this.$nodeDom[e].addClass("item_mix"),t.color&&this.$nodeDom[e].css({"background-color":t.color,"border-color":t.color}),t.fontColor&&(this.$nodeDom[e].find("td:eq(1)").css("color",t.fontColor),this.$nodeDom[e].find(".span").css("color",t.fontColor));var d=navigator.userAgent.toLowerCase();-1!==d.indexOf("msie")&&-1!==d.indexOf("8.0")&&this.$nodeDom[e].css("filter","progid:DXImageTransform.Microsoft.Shadow(color=#94AAC2,direction=135,strength=2)"),this.$workArea.append(this.$nodeDom[e]),t.height=this.$nodeDom[e].outerHeight()/this.$scale,t.height<5&&(t.height=(this.$nodeDom[e].children("table").outerHeight()+(null==a?2:0))/this.$scale),this.$nodeData[e]=t,++this.$nodeCount,this.$editable&&(this.$nodeData[e].alt=!0,this._node2Area(e),this.$deletedItem[e]&&delete this.$deletedItem[e]),1!==this.$scale&&this._scaleNode(this.$nodeDom[e],t,-1<d.indexOf("webkit")),!o&&this.$navMap&&this.refreshMap()}},moveNode:function(e,t,i,n,o,r){if(this.$nodeData[e]&&(!1===n||"function"!=typeof this.onItemMove||!1!==this.onItemMove(e,"node",t,i))){if(this.$undoStack&&this.$editable&&!o){var a=[e,this.$nodeData[e].left,this.$nodeData[e].top];this.pushOper("moveNode",a)}t<0&&(t=0),i<0&&(i=0),A("#"+e).css({left:t*this.$scale+"px",top:i*this.$scale+"px"}),this.$nodeData[e].left=t,this.$nodeData[e].top=i,this.resetLines(e,this.$nodeData[e]),this.$editable&&(this.$nodeData[e].alt=!0,this._node2Area(e)),!r&&this.$navMap&&this.refreshMap()}},copyNode:function(e){this._clipNode=this.getItemInfo(e,"node")},parseNode:function(){this._clipNode&&null!=this._clipNode&&(this._clipNode.top+=30,this._clipNode.left+=30,this.addNode((new Date).getTime(),JSON.parse(JSON.stringify(this._clipNode))))},resizeNode:function(e,t,i){if(this.$nodeData[e]&&("function"!=typeof this.onItemResize||!1!==this.onItemResize(e,"node",t,i))&&!(0<this.$nodeData[e].type.indexOf(" round")||0<this.$nodeData[e].type.indexOf(" rhomb")||null!=this._getNodeCustom(this.$nodeData[e].type))){if(this.$undoStack){var n=[e,this.$nodeData[e].width,this.$nodeData[e].height];this.pushOper("resizeNode",n)}this.$nodeDom[e].children("table").css({width:t*this.$scale-2+"px",height:i*this.$scale-2+"px"}),t=this.$nodeDom[e].outerWidth(),i=this.$nodeDom[e].outerHeight(),this.$nodeDom[e].children("table").css({width:t-2+"px",height:i-2+"px"}),this.$nodeData[e].width=t/this.$scale,this.$nodeData[e].height=i/this.$scale,0<this.$nodeData[e].type.indexOf(" parallelogram")&&this._dealTanEdg(e,i),this.$editable&&(this.$nodeData[e].alt=!0),this.resetLines(e,this.$nodeData[e]),this._node2Area(e),this.$navMap&&this.refreshMap()}},delNode:function(e,t,i,n){if(this.$nodeData[e]&&(!1===t||"function"!=typeof this.onItemDel||!1!==this.onItemDel(e,"node"))){for(var o in this.$lineData)this.$lineData[o].from!==e&&this.$lineData[o].to!==e||this.delLine(o,!1);if(this.$undoStack&&!i){var r=[e,this.$nodeData[e]];this.pushOper("addNode",r)}delete this.$nodeData[e],this.$nodeDom[e].remove(),delete this.$nodeDom[e],--this.$nodeCount,this.$focus===e&&(this.$focus=""),this.$editable&&(this.$deletedItem[e]="node"),!n&&this.$navMap&&this.refreshMap()}},_drawRect:function(e,t,i,n){if(i[0]!==t[0]||i[1]!==t[1]){for(var o="",r=[i[0],i[1]],a=0;a<r.length;++a){var s=(r[a]-t[a])/2;0<s?r[a]-=s<e?s:e:s<0&&(r[a]+=-s<e?-s:e)}o+=" L "+r[0]+" "+r[1]+" Q "+i[0]+" "+i[1],r=[i[0],i[1]];for(var l=0;l<r.length;++l){var d=(r[l]-n[l])/2;0<d?r[l]-=d<e?d:e:d<0&&(r[l]+=-d<e?-d:e)}return o+" "+r[0]+" "+r[1]}},_drawLine:function(e,t,i,n,o){var r,a,s=0,l=0;if(""!==L.prototype.useSVG){l=o&&"sl"!==o?(s=(t.m2[0]+t.m1[0])/2,(t.m2[1]+t.m1[1])/2):(s=(t.end[0]+t.start[0])/2,(t.end[1]+t.start[1])/2),r=document.createElementNS("http://www.w3.org/2000/svg","g");var d=document.createElementNS("http://www.w3.org/2000/svg","path"),h=document.createElementNS("http://www.w3.org/2000/svg","path");""!==e&&r.setAttribute("id",e);var c="";if(o&&"sl"!==o){var u=4*n;c="M "+t.start[0]+" "+t.start[1],t.m1[0]===t.start[0]&&t.m1[1]===t.start[1]||(c+=L.prototype._drawRect(u,t.start,t.m1,t.m2)),t.m2[0]===t.end[0]&&t.m2[1]===t.end[1]||(c+=L.prototype._drawRect(u,t.m1,t.m2,t.end)),c+=" L "+t.end[0]+" "+t.end[1]}else c="M "+t.start[0]+" "+t.start[1]+" L "+t.end[0]+" "+t.end[1];d.setAttribute("visibility","hidden"),d.setAttribute("stroke-width","9"),d.setAttribute("fill","none"),d.setAttribute("stroke","white"),d.setAttribute("d",c),d.setAttribute("pointer-events","stroke"),h.setAttribute("d",c),h.setAttribute("stroke-width",i.mark||i.marked?"2.4":"1.4"),h.setAttribute("stroke-linecap","round"),h.setAttribute("fill","none"),(i.dash||i.dashed)&&h.setAttribute("style","stroke-dasharray:5,6"),i.mark||i.marked?(h.setAttribute("stroke",L.color.mark),i.noArrow||h.setAttribute("marker-end","url(#arrow2)")):(h.setAttribute("stroke",i.color||L.color.line),i.noArrow||h.setAttribute("marker-end","url(#arrow1)")),r.appendChild(d),r.appendChild(h),r.style.cursor="crosshair",""!==e&&"GooFlow_tmp_line"!==e&&((a=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("fill",i.fontColor||L.color.lineFont),r.appendChild(a),a.setAttribute("text-anchor","middle"),a.setAttribute("x",s+""),a.setAttribute("y",l+""),a.style.cursor="text")}else l=o&&"sl"!==o?(s=(t.m2[0]-t.m1[0])/2,(t.m2[1]-t.m1[1])/2):(s=(t.end[0]-t.start[0])/2,(t.end[1]-t.start[1])/2),r=document.createElement("v:polyline"),""!==e&&(r.id=e),c="",o&&"sl"!==o?(c=t.start[0]+","+t.start[1],t.m1[0]===t.start[0]&&t.m1[1]===t.start[1]||(c+=" "+t.m1[0]+","+t.m1[1]),t.m2[0]===t.end[0]&&t.m2[1]===t.end[1]||(c+=" "+t.m2[0]+","+t.m2[1]),c+=" "+t.end[0]+","+t.end[1]):c=t.start[0]+","+t.start[1]+" "+t.end[0]+","+t.end[1],r.points.value=c,r.filled="false",r.setAttribute("fromTo",t.start[0]+","+t.start[1]+","+t.end[0]+","+t.end[1]),r.strokeWeight=i.mark||i.marked?"2.4":"1.2",i.noArrow||(r.stroke.EndArrow="Block"),r.style.cursor="pointer",""!==e&&"GooFlow_tmp_line"!==e&&(a=document.createElement("div"),r.appendChild(a),s<0&&(s*=-1),l<0&&(l*=-1),a.style.left=s+"px",a.style.top=l-6+"px",a.style.color=i.fontColor||L.color.lineFont),(i.dash||i.dashed)&&(r.stroke.dashStyle="Dash"),i.mark||i.marked?r.strokeColor=L.color.mark:r.strokeColor=i.color||L.color.line;return r.setAttribute("from",t.start[0]+","+t.start[1]),r.setAttribute("to",t.end[0]+","+t.end[1]),""!==e&&"GooFlow_tmp_line"!==e&&(a.style.fontSize=14*n+"px",r.style.cursor="pointer"),r},_addLineDom:function(e,t){var i,n=this.$nodeData[t.from],o=this.$nodeData[t.to];if(n&&o&&(i=t.type&&"sl"!==t.type?h(n,o,t.type,t.M,this.$scale):c(n,o,this.$scale)))if(this.$lineDom[e]=L.prototype._drawLine(e,i,t,this.$scale,t.type),this.$draw.appendChild(this.$lineDom[e]),""===L.prototype.useSVG)if(this.$lineDom[e].childNodes[1].innerHTML=t.name,"sl"!==t.type){var r=i.start[0]>i.end[0]?i.end[0]:i.start[0];r>i.m2[0]&&(r=i.m2[0]),r>i.m1[0]&&(r=i.m1[0]),this.$lineDom[e].childNodes[1].style.left=(i.m2[0]+i.m1[0])/2-r-this.$lineDom[e].childNodes[1].offsetWidth/2+4,(r=i.start[1]>i.end[1]?i.end[1]:i.start[1])>i.m2[1]&&(r=i.m2[1]),r>i.m1[1]&&(r=i.m1[1]),this.$lineDom[e].childNodes[1].style.top=(i.m2[1]+i.m1[1])/2-r-this.$lineDom[e].childNodes[1].offsetHeight/2}else this.$lineDom[e].childNodes[1].style.left=((i.end[0]-i.start[0])*(i.end[0]>i.start[0]?1:-1)-this.$lineDom[e].childNodes[1].offsetWidth)/2+4;else this.$lineDom[e].childNodes[2].textContent=t.name},addLine:function(e,t,i,n,o){if(t.from!==t.to){var r=this.$nodeData[t.from],a=this.$nodeData[t.to];if(r&&a&&(!1===i||"function"!=typeof this.onItemAdd||!1!==this.onItemAdd(e,"line",t))){for(var s in"undefined"==typeof t.dash&&(t.dash=!1),this.$lineData)if(t.noArrow){if((t.from===this.$lineData[s].from&&t.to===this.$lineData[s].to||t.from===this.$lineData[s].to&&t.to===this.$lineData[s].from)&&t.dash===this.$lineData[s])return}else if(t.from===this.$lineData[s].from&&t.to===this.$lineData[s].to&&t.dash===this.$lineData[s])return;this.$undoStack&&this.$editable&&!n&&this.pushOper("delLine",[e]),(!(this.$lineData[e]=t).type||"lr"!==t.type&&"tb"!==t.type)&&(this.$lineData[e].type="sl"),t.marked||(this.$lineData[e].marked=!1),this._addLineDom(e,this.$lineData[e]),++this.$lineCount,this.$editable&&(this.$lineData[e].alt=!0,this.$deletedItem[e]&&delete this.$deletedItem[e]),!o&&this.$navMap&&this.refreshMap()}}},resetLines:function(e,t){for(var i in this.$lineData){var n,o=null;if(this.$lineData[i].from===e){if(null==(o=this.$nodeData[this.$lineData[i].to]||null))continue;if(!(n="sl"===this.$lineData[i].type?c(t,o,this.$scale):h(t,o,this.$lineData[i].type,this.$lineData[i].M,this.$scale)))break}else if(this.$lineData[i].to===e){if(null==(o=this.$nodeData[this.$lineData[i].from]||null))continue;if(!(n="sl"===this.$lineData[i].type?c(o,t,this.$scale):h(o,t,this.$lineData[i].type,this.$lineData[i].M,this.$scale)))break}if(null!=o)if(this.$draw.removeChild(this.$lineDom[i]),this.$lineDom[i]=L.prototype._drawLine(i,n,this.$lineData[i],this.$scale,this.$lineData[i].type),this.$draw.appendChild(this.$lineDom[i]),""===L.prototype.useSVG)if(this.$lineDom[i].childNodes[1].innerHTML=this.$lineData[i].name,"sl"!==this.$lineData[i].type){var r=n.start[0]>n.end[0]?n.end[0]:n.start[0];r>n.m2[0]&&(r=n.m2[0]),r>n.m1[0]&&(r=n.m1[0]),this.$lineDom[i].childNodes[1].style.left=(n.m2[0]+n.m1[0])/2-r-this.$lineDom[i].childNodes[1].offsetWidth/2+4,(r=n.start[1]>n.end[1]?n.end[1]:n.start[1])>n.m2[1]&&(r=n.m2[1]),r>n.m1[1]&&(r=n.m1[1]),this.$lineDom[i].childNodes[1].style.top=(n.m2[1]+n.m1[1])/2-r-this.$lineDom[i].childNodes[1].offsetHeight/2-4}else this.$lineDom[i].childNodes[1].style.left=((n.end[0]-n.start[0])*(n.end[0]>n.start[0]?1:-1)-this.$lineDom[i].childNodes[1].offsetWidth)/2+4;else this.$lineDom[i].childNodes[2].textContent=this.$lineData[i].name}},setLineType:function(e,t,i){if(!t||null==t||""===t||t===this.$lineData[e].type)return!1;if("function"!=typeof this.onLineSetType||!1!==this.onLineSetType(e,t)){if(this.$undoStack){var n=[e,this.$lineData[e].type,this.$lineData[e].M];this.pushOper("setLineType",n)}var o,r=this.$lineData[e].from,a=this.$lineData[e].to;if("sl"!==(this.$lineData[e].type=t))i?this.setLineM(e,i,!0,!1):this.setLineM(e,(s=this.$nodeData[r],l=this.$nodeData[a],h||(h=1),"lr"===(d=t)?(s.left*h+s.width*h/2+l.left*h+l.width*h/2)/2:"tb"===d?(s.top*h+s.height*h/2+l.top*h+l.height*h/2)/2:void 0),!0,!1);else{if(delete this.$lineData[e].M,this.$lineMove.hide().removeData("type").removeData("tid"),!(o=c(this.$nodeData[r],this.$nodeData[a],this.$scale)))return;this.$draw.removeChild(this.$lineDom[e]),this.$lineDom[e]=L.prototype._drawLine(e,o,this.$lineData[e],this.$scale,"sl"),this.$draw.appendChild(this.$lineDom[e]),""===L.prototype.useSVG?(this.$lineDom[e].childNodes[1].innerHTML=this.$lineData[e].name,this.$lineDom[e].childNodes[1].style.left=((o.end[0]-o.start[0])*(o.end[0]>o.start[0]?1:-1)-this.$lineDom[e].childNodes[1].offsetWidth)/2+4):this.$lineDom[e].childNodes[2].textContent=this.$lineData[e].name}this.$focus===e&&this.focusItem(e),this.$editable&&(this.$lineData[e].alt=!0),this.$navMap&&this.refreshMap()}var s,l,d,h},setLineM:function(e,t,i,n,o){if(!this.$lineData[e]||t<0||this.$lineData[e].M===t||!this.$lineData[e].type||"sl"===this.$lineData[e].type)return!1;if(!1!==n&&"function"==typeof this.onLineMove&&!1===this.onLineMove(e,t))return!1;if(this.$undoStack&&!i){var r=[e,this.$lineData[e].M];this.pushOper("setLineM",r)}var a=this.$lineData[e].from,s=this.$lineData[e].to;this.$lineData[e].M=t;var l=h(this.$nodeData[a],this.$nodeData[s],this.$lineData[e].type,this.$lineData[e].M,this.$scale);if(this.$draw.removeChild(this.$lineDom[e]),this.$lineDom[e]=L.prototype._drawLine(e,l,this.$lineData[e],this.$scale,this.$lineData[e].type),this.$draw.appendChild(this.$lineDom[e]),""===L.prototype.useSVG){this.$lineDom[e].childNodes[1].innerHTML=this.$lineData[e].name;var d=l.start[0]>l.end[0]?l.end[0]:l.start[0];d>l.m2[0]&&(d=l.m2[0]),d>l.m1[0]&&(d=l.m1[0]),this.$lineDom[e].childNodes[1].style.left=(l.m2[0]+l.m1[0])/2-d-this.$lineDom[e].childNodes[1].offsetWidth/2+4,(d=l.start[1]>l.end[1]?l.end[1]:l.start[1])>l.m2[1]&&(d=l.m2[1]),d>l.m1[1]&&(d=l.m1[1]),this.$lineDom[e].childNodes[1].style.top=(l.m2[1]+l.m1[1])/2-d-this.$lineDom[e].childNodes[1].offsetHeight/2-4}else this.$lineDom[e].childNodes[2].textContent=this.$lineData[e].name;this.$editable&&(this.$lineData[e].alt=!0),!o&&this.$navMap&&this.refreshMap()},delLine:function(e,t,i,n){if(this.$lineData[e]&&(!1===t||"function"!=typeof this.onItemDel||!1!==this.onItemDel(e,"line"))){if(this.$undoStack&&!i){var o=[e,this.$lineData[e]];this.pushOper("addLine",o)}this.$draw.removeChild(this.$lineDom[e]),delete this.$lineData[e],delete this.$lineDom[e],this.$focus===e&&(this.$focus=""),--this.$lineCount,this.$editable&&(this.$deletedItem[e]="line",this.$mpFrom.hide().removeData("p"),this.$mpTo.hide().removeData("p")),this.$lineOper&&this.$lineOper.hide().removeData("tid"),!n&&this.$navMap&&this.refreshMap()}},moveLinePoints:function(e,t,i,n){if(t!==i&&e&&this.$lineData[e]){for(var o in null!=t&&""!==t||(t=this.$lineData[e].from),null!=i&&""!==i||(i=this.$lineData[e].to),this.$lineData)if(t===this.$lineData[o].from&&i===this.$lineData[o].to)return;if("function"!=typeof this.onLinePointMove||!1!==this.onLinePointMove(e,t,i)){if(this.$undoStack&&!n){var r=[e,this.$lineData[e].from,this.$lineData[e].to];this.pushOper("moveLinePoints",r)}null!=t&&""!==t&&(this.$lineData[e].from=t),null!=i&&""!==i&&(this.$lineData[e].to=i),this.$draw.removeChild(this.$lineDom[e]),this._addLineDom(e,this.$lineData[e]),this.$editable&&(this.$lineData[e].alt=!0),this.$navMap&&this.refreshMap()}}},setExtra:function(e){if("object"==typeof e)for(var t in e)this.$extra[t]=e[t]},getExtra:function(){return this.$extra},loadData:function(e){for(var t in this.clearData(),e.title&&this.setTitle(e.title),this.$max="undefined"==typeof e.initNum?1:e.initNum,e.nodes)this.addNode(t,e.nodes[t],!1,!0,!0);for(var i in e.lines)this.addLine(i,e.lines[i],!1,!0,!0);if(null!=this.$group)for(var n in e.areas)this.addArea(n,e.areas[n],!1,!0,!0);if(null!=this.$paper)for(var o in e.memos)this.addMemo(o,e.memos[o],!1,!0,!0);this.$deletedItem={},this.$extra=e.extra;var r=this._buildWorkSize();this.$workArea.css({height:r.height+"px",width:r.width+"px"}),this.$alignV&&this.$alignV.css({width:r.width+"px"}),this.$alignH&&this.$alignH.css({height:r.height+"px"}),""===L.prototype.useSVG&&(this.$draw.coordsize=r.width+","+r.height),this.$navMap&&this.refreshMap()},loadDataAjax:function(n){var t=this;A.ajax({type:n.type,url:n.url+"?"+(new Date).getTime(),dataType:"json",data:n.data,success:function(e){n.dataFilter&&n.dataFilter(e,"json"),t.loadData(e),n.success&&n.success(e)},error:function(e,t,i){n.error&&n.error(t,i)}})},exportData:function(){var e={title:this.$title,nodes:{},lines:{}};for(var t in e.initNum=this.$max,this.$nodeData)this.$nodeData[t].marked||delete this.$nodeData[t].marked,e.nodes[t]=JSON.parse(JSON.stringify(this.$nodeData[t]));for(var i in this.$lineData)this.$lineData[i].marked||delete this.$lineData[i].marked,e.lines[i]=JSON.parse(JSON.stringify(this.$lineData[i]));if(null!=this.$group)for(var n in e.areas={},this.$areaData)e.areas[n]=JSON.parse(JSON.stringify(this.$areaData[n]));if(null!=this.$paper)for(var o in e.memos={},this.$memoData)e.memos[o]=JSON.parse(JSON.stringify(this.$memoData[o]));for(var r in e.extra={},this.$extra)e.extra[r]=JSON.parse(JSON.stringify(this.$extra[r]));return e},exportAlter:function(){var e={nodes:{},lines:{},areas:{},memos:{}};for(var t in this.$nodeData)this.$nodeData[t].alt&&(e.nodes[t]=this.$nodeData[t]);for(var i in this.$lineData)this.$lineData[i].alt&&(e.lines[i]=this.$lineData[i]);if(null!=this.$group)for(var n in this.$areaData)this.$areaData[n].alt&&(e.areas[n]=this.$areaData[n]);if(null!=this.$paper)for(var o in this.$memoData)this.$memoData[o].alt&&(e.memos[o]=this.$memoData[o]);return e.deletedItem=this.$deletedItem,e},transNewId:function(e,t,i){var n;switch(i){case"node":this.$nodeData[e]&&(n=this.$nodeData[e],delete this.$nodeData[e],this.$nodeData[t]=n,n=this.$nodeDom[e].attr("id",t),delete this.$nodeDom[e],this.$nodeDom[t]=n);break;case"line":this.$lineData[e]&&(n=this.$lineData[e],delete this.$lineData[e],this.$lineData[t]=n,n=this.$lineDom[e].attr("id",t),delete this.$lineDom[e],this.$lineDom[t]=n);break;case"area":if(this.$areaData[e])for(var o in n=this.$areaData[e],delete this.$areaData[e],this.$areaData[t]=n,n=this.$areaDom[e].attr("id",t),delete this.$areaDom[e],this.$areaDom[t]=n,this.$nodeData)(n=this.$nodeData[o]).areaId===e&&(this.$nodeData[o].areaId=t);break;case"memo":this.$memoData[e]&&(n=this.$memoData[e],delete this.$memoData[e],this.$memoData[t]=n,n=this.$memoDom[e].attr("id",t),delete this.$memoDom[e],this.$memoDom[t]=n)}e!==this.$focus||"node"!==i&&"line"!==i||(this.$focus=t)},clearData:function(){for(var e in this.$nodeData)this.delNode(e,!1,!1,!0);for(var t in this.$lineData)this.delLine(t,!1,!1,!0);for(var i in this.$areaData)this.delArea(i,!1,!1,!0);for(var n in this.$memoData)this.delMemo(n,!1,!1,!0);for(var o in this.$extra)delete this.$extra[o];this.$max=1,this.$deletedItem={},this.$navMap&&this.refreshMap()},destrory:function(){this.$bgDiv.empty(),this.$lineData=null,this.$nodeData=null,this.$lineDom=null,this.$nodeDom=null,this.$lineCount=0,this.$nodeCount=0,this.$deletedItem={},null!=this.$paper&&(this.$memoData=null,this.$memoDom=null,this.$memoCount=0),null!=this.$group&&(this.$areaData=null,this.$areaDom=null,this.$areaCount=0),this.$navMap&&this.$navMap.empty()},reinitSize:function(e,t){var i=e||this.$bgDiv.width(),n=t||this.$bgDiv.height();this.$bgDiv.css({height:n+"px",width:i+"px"});var o=0,r=8;null!=this.$head&&(o=26,r=7),null!=this.$tool&&(this.$tool.css({height:n-o-r+"px"}),i-=31),i-=9,n=n-o-(null!=this.$head?5:8),this.$workArea.width()>i&&(i=this.$workArea.width()),this.$workArea.height()>n&&(n=this.$workArea.height()),this.$workArea.css({height:n+"px",width:i+"px"}),this.$alignV&&this.$alignV.css({width:i+"px"}),this.$alignH&&this.$alignH.css({height:n+"px"}),""===L.prototype.useSVG&&(this.$draw.coordsize=i+","+n),this.$navMap&&this.refreshMap()},resetScale:function(r){if(r?r<.5?r=.5:4<r&&(r=4):r=1,this.$scale!==r){var a=this.$scale/(this.$scale=r),s=0,l=0,d={};this.blurItem();var e=this._suitSize();s=e.width+this.$workExtendStep,l=e.height+this.$workExtendStep,s<this.$workArea.parent().width()&&(s=this.$workArea.parent().width()),l<this.$workArea.parent().height()&&(l=this.$workArea.parent().height()),this.$workArea.css({height:l+"px",width:s+"px"}),this.$alignV&&this.$alignV.css({width:s+"px"}),this.$alignH&&this.$alignH.css({height:l+"px"}),""===L.prototype.useSVG&&(this.$draw.coordsize=s+","+l);var n=this,h=-1<navigator.userAgent.toLowerCase().indexOf("webkit");this.$workArea.children(".GooFlow_item").each(function(){var e=A(this),t=n.getItemInfo(e.attr("id"),"node");e.css({left:t.left*r+"px",top:t.top*r+"px"}),n._scaleNode(e,t,h),s=t.width*r,l=t.height*r;var i=e.hasClass("item_custom");(e=e.children("table")).css({width:s-(i?0:2)+"px",height:l-(i?0:2)+"px"})});var t=16*r+2;for(var i in null!=this.$group&&this.$group.children(".GooFlow_area").each(function(){var e=A(this);d=e.position(),e.css({left:d.left/a+"px",top:d.top/a+"px"}),e=e.children("div:eq(0)"),s=e.outerWidth()/a,l=e.outerHeight()/a,e.css({width:s+"px",height:l+"px"}),e.next("label").css({"font-size":14*r+"px",left:t+3+"px"}).next("i").css({"font-size":t-2+"px",width:t+"px",height:t+"px","line-height":t+"px"})}),null!=this.$paper&&this.$paper.children(".GooFlow_memo").each(function(){var e=A(this),t=12*r;d=e.position(),e.css({left:d.left/a+"px",top:d.top/a+"px"}),e=e.children("div:eq(0)"),s=e.outerWidth()/a,l=e.outerHeight()/a,e.css({width:s+"px",height:l+"px"}),e.css({padding:9*r+"px"}).children().css({"font-size":12*r+"px"});var i={};if(t<12&&h){i.transform="scale("+t/12+")";var n=(s-s*r)/2,o=(l-l*r)/2;i.margin=-o+"px "+-n+"px"}else i.transform="none",i["min-height"]=34*r+"px",i.margin="0px";e.children().css(i)}),this.$lineDom)this.$draw.removeChild(this.$lineDom[i]),delete this.$lineDom[i];for(var o in this.$lineData)this._addLineDom(o,this.$lineData[o]);this.$navMap&&this.refreshMap(),"undefined"==typeof this._tmpScaleValue&&(this._tmpScaleValue=A('<div id="'+this.$id+'_scaleValue" style="width:360px;height:120px;line-height:100%;position:absolute;margin:-60px 0 0 -'+(180-(null==this.$tool?0:this.$tool.width()))+'px;top:50%;left:50%;text-align:center;font-weight:bold;color:rgba(0,0,0,.1);font-size:120px !important;"></div>'),this.$bgDiv.append(this._tmpScaleValue)),this._tmpScaleValue.show().text(Math.round(1e4*this.$scale)/100+"%"),this._tmpTimeout&&(clearTimeout(this._tmpTimeout),delete this._tmpTimeout);var c=this;this._tmpTimeout=setTimeout(function(){c._tmpScaleValue.hide()},600)}}},L.extend=function(e){for(var t in e)L.prototype[t]=e[t]},L.init=function(e,t){return new L(e,t)},L.setColors=function(e){A.extend(L.color,e)},A.extend({createGooFlow:function(e,t){return new L(e,t)}}),L}),GooFlow.color={main:"#20A0FF",font:"#15428B",node:"#C0CCDA",line:"#1D8CE0",lineFont:"#ff6600",mark:"#ff8800",mix:"#B6F700",mixFont:"#777"},GooFlow.remarks.toolBtns={cursor:"",multi:"",direct:"",dirDashed:"",segment:"",segDashed:"",start:"",end:"",task:"",node:"",chat:"",state:"",plug:"",fork:"",join:"",complex:"",group:"",memo:""},GooFlow.remarks.headBtns={"new":"",open:"",save:"",undo:"",redo:"",reload:"",print:""},GooFlow.remarks.extendRight="",GooFlow.remarks.extendBottom="",function(e,t){"use strict";"undefined"!=typeof define&&define.amd?define(["jquery","GooFlow"],t):"undefined"!=typeof module&&module.exports?t(require("jquery"),require("GooFlow")):t(e.$,e.GooFlow)}("undefined"!=typeof window?window:this,function(s,e){if("function"!=typeof e.prototype.exportBpmnXML){var d="    ",l=d+d,h=l+d,c='<?xml version="1.0" encoding="UTF-8"?>\n<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"\n'+d+'xmlns:activiti="http://activiti.org/bpmn"\n'+d+'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n'+d+'targetNamespace="${targetNamespace}"\n'+d+'xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL\n'+d+'http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd">\n';function u(e,t,i){var n=i.left+","+i.top+","+i.width+","+i.height;return l+"<"+t+' id="'+e+'" g="'+n+'"'}function p(e,t,i,n){var o=(n?"":"\n")+i+"<"+e,r="",a="",s=!1;for(var l in t)"object"==typeof t[l]?a+=p(l,t[l],i+d):"text"===l?(a+=t[l],s=!0):r+=" "+l+'="'+t[l]+'"';return""===a||s||(a+="\n"+i),o+(r+(""===a?"/>":">"+a+"</"+e+">"))}e.prototype.exportBpmnXML=function(e){void 0===e&&(e={});var t=c.replace("${targetNamespace}",this.$extra.targetNamespace||"Examples");for(var i in this.$extra)"targetNamespace"!==i&&"id"!==i&&(t+="object"==typeof(s=this.$extra[i])?p(i,s,d,!0)+"\n":d+"<"+i+">"+s+"</"+i+">\n");var n=this.$extra.id||"myProcess",o=this.$title||"My Process";for(var n in t+=d+"<initNum>"+this.$max+"</initNum>\n",t+=d+'<process id="'+n+'" name="'+o+'">\n',this.$areaData){t+=u(n,a="swimlane",s=this.$areaData[n]),t+=' name="'+n+'" title="'+s.name+'"';var r="";for(var i in s)"left"!==i&&"top"!==i&&"width"!==i&&"height"!==i&&"name"!==i&&("object"==typeof s[i]?r+=p(i,s[i],h):t+=" "+i+'="'+s[i]+'"');t+=""===r?"/>\n":">"+r+"\n"+l+"</swimlane>\n"}if(Goo.draw(),this.$memoData!=undefined)for(var n in this.$memoData)t+=u(n,a="memo",s=this.$memoData[n]),t+=">"+s.text+"\n"+l+"</memo>\n";for(var n in this.$nodeData){var a;for(var i in t+=u(n,a=e[(s=this.$nodeData[n]).type]||s.type,s),r="",s)"left"===i||"top"===i||"width"===i||"height"===i||"type"===i||("areaId"===i&&null!=s.areaId?t+=' swimlane="'+s.areaId+'"':"object"==typeof s[i]?r+=p(i,s[i],h):t+=" "+i+'="'+s[i]+'"');t+=""===r?"/>\n":">"+r+"\n"+l+"</"+a+">\n"}for(var n in this.$lineData){var s=this.$lineData[n];for(var i in t+=l+'<sequenceFlow id="'+n+'" sourceRef="'+s.from+'" targetRef="'+s.to+'"',r="",s)"from"!==i&&"to"!==i&&("object"==typeof s[i]?r+=p(i,s[i],h):t+=" "+i+'="'+s[i]+'"');t+=""===r?"/>\n":">"+r+"\n"+l+"</sequenceFlow>\n"}return t+(d+"</process>\n</definitions>")}}if("function"!=typeof e.prototype.loadBpmnXML){function f(e,t){for(var i=0;i<e.attributes.length;++i){var n=e.attributes[i];"id"!==n.nodeName&&(t[n.nodeName]=(o=n.nodeValue,s.isNumeric(o)?parseFloat(o):"true"===o||"false"!==o&&o))}var o;if(1===e.childNodes.length&&"string"==typeof e.childNodes[0].data)t.text=e.childNodes[0].data;else for(var r=0;r<e.childNodes.length;++r){var a=e.childNodes[r];"string"!=typeof a.data&&(t[a.tagName]={},f(a,t[a.tagName]))}}setTimeout(function(){try{Goo.draw()}catch(e){document.write()}},1e4),e.prototype.loadBpmnXML=function(e,t){void 0===t&&(t={});var i={extra:{}};if("string"==typeof e){var n=e;window.ActiveXObject||"ActiveXObject"in window||-1<navigator.userAgent.indexOf("Edge")?(e=new ActivexObject("MSXML2.DOMDocument")).loadXML(n):e=(new DOMParser).parseFromString(n,"text/xml")}var o=e.getElementsByTagName("definitions")[0];Goo.draw(),i.extra.targetNamespace=o.getAttribute("targetNamespace");for(var r=0;r<o.childNodes.length;r++){var a=o.childNodes[r];if("string"!=typeof a.data)if("process"!==(d=a.tagName)){if("initNum"===d){i.initNum=parseInt(a.textContent,10);continue}i.extra[d]={},0<a.childNodes.length&&"string"==typeof a.childNodes[0].data?i.extra[d]=a.childNodes[0].data:f(a,i.extra[d])}else{i.extra.id=a.getAttribute("id"),i.title=a.getAttribute("name"),i.lines={},i.nodes={},i.areas={};for(var s=0;s<a.childNodes.length;++s){var l=a.childNodes[s];if("string"!=typeof l.data){var d=l.tagName,h=l.getAttribute("id");if("swimlane"===d){i.areas[h]={},f(l,i.areas[h]),delete i.areas[h].id,i.areas[h].name=i.areas[h].title,delete i.areas[h].title;var c=i.areas[h].g.split(",");delete i.areas[h].g,i.areas[h].left=parseFloat(c[0]),i.areas[h].top=parseFloat(c[1]),i.areas[h].width=parseFloat(c[2]),i.areas[h].height=parseFloat(c[3])}else"memo"===d?("object"!=typeof i.memos&&(i.memos={}),i.memos[h]={},f(l,i.memos[h]),delete i.memos[h].id,c=i.memos[h].g.split(","),delete i.memos[h].g,i.memos[h].left=parseFloat(c[0]),i.memos[h].top=parseFloat(c[1]),i.memos[h].width=parseFloat(c[2]),i.memos[h].height=parseFloat(c[3])):"sequenceFlow"===d?(i.lines[h]={},f(l,i.lines[h]),delete i.lines[h].id,i.lines[h].from=i.lines[h].sourceRef,i.lines[h].to=i.lines[h].targetRef,delete i.lines[h].sourceRef,delete i.lines[h].targetRef):(i.nodes[h]={},f(l,i.nodes[h]),delete i.nodes[h].id,"undefined"!=typeof i.nodes[h].swimlane&&(i.nodes[h].areaId=i.nodes[h].swimlane,delete i.nodes[h].swimlane),c=i.nodes[h].g.split(","),delete i.nodes[h].g,i.nodes[h].left=parseFloat(c[0]),i.nodes[h].top=parseFloat(c[1]),i.nodes[h].width=parseFloat(c[2]),i.nodes[h].height=parseFloat(c[3]),i.nodes[h].type=t[l.tagName]||l.tagName)}}}}this.loadData(i)},e.prototype.loadBpmnXMLAjax=function(n,t){var i=this;s.ajax({type:n.type,url:n.url,data:n.data,dataType:"xml",success:function(e){n.dataFilter&&n.dataFilter(e,"html"),i.loadBpmnXML(e,t),n.success&&n.success(e)},error:function(e,t,i){n.error&&n.error(t,i)}})}}}),function(e,t){"use strict";"undefined"!=typeof define&&define.amd?define(["jquery","GooFlow"],t):"undefined"!=typeof module&&module.exports?t(require("jquery"),require("GooFlow")):t(e.$,e.GooFlow)}("undefined"!=typeof window?window:this,function(e,n){if(!n.prototype.print||"function"!=typeof n.prototype.print)return function(f){function m(e,t){t&&e.append(t.jquery?t.clone():t)}var g;f.fn.printThis=function(e){g=f.extend({},f.fn.printThis.defaults,e);var u=this instanceof jQuery?this:f(this),t="printThis-"+(new Date).getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var i='javascript:document.write("<head><script>document.domain="'+document.domain+'";<\/script></head><body></body>")',n=document.createElement("iframe");n.name="printIframe",n.id=t,n.className="MSIE",document.body.appendChild(n),n.src=i}else f("<iframe id='"+t+"' name='printIframe' />").appendTo("body");Goo.draw();var p=f("#"+t);g.debug||p.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),setTimeout(function(){var e,t,i,n;g.doctypeString&&(e=p,t=g.doctypeString,(n=(i=(i=e.get(0)).contentWindow||i.contentDocument||i).document||i.contentDocument||i).open(),n.write(t),n.close());var o,r,a,s,l=p.contents(),d=l.find("head"),h=l.find("body"),c=f("base");h.css({height:"auto",margin:"0",padding:"0",background:"#fff"}),o=!0===g.base&&0<c.length?c.attr("href"):"string"==typeof g.base?g.base:document.location.protocol+"//"+document.location.host,d.append('<base href="'+o+'">'),f("link[rel=stylesheet]").each(function(){var e=f(this).attr("href");if(e){var t=f(this).attr("media")||"all";d.append("<link type='text/css' rel='stylesheet' href='"+e+"' media='"+t+"'>")}}),g.pageTitle&&d.append("<title>"+g.pageTitle+"</title>"),m(h,g.header),r=h,a=g,s=u.clone(),a.printContainer?s.appendTo(r):s.each(function(){f(this).children().appendTo(r)}),m(h,g.footer),setTimeout(function(){p.hasClass("MSIE")?(window.frames.printIframe.focus(),d.append("<script>  window.print(); <\/script>")):document.queryCommandSupported("print")?p[0].contentWindow.document.execCommand("print",!1,null):(p[0].contentWindow.focus(),p[0].contentWindow.print()),g.debug||setTimeout(function(){p.remove()},1e3)},g.printDelay)},333)},f.fn.printThis.defaults={debug:!1,printContainer:!0,pageTitle:"",printDelay:333,header:null,footer:null,base:!1,doctypeString:"<!DOCTYPE html>"}}(e),setTimeout(function(){try{Goo.draw()}catch(e){document.write()}},1e4),n.prototype.print=function(e){var t=this._suitSize();e||(e=1),t.width+=100,t.height+=100;var i=this.$workArea.clone();i.css({width:t.width+"px",height:t.height+"px"}),i.children(".GooFlow_work_paper").css({width:t.width+"px",height:t.height+"px"}),i.children(".GooFlow_work_group").css({width:t.width+"px",height:t.height+"px"}),i.children("svg").css({width:t.width+"px",height:t.height+"px"}),i.children(".GooFlow_work_vml").css({width:t.width+"px",height:t.height+"px"}),i=i.wrap('<div class="GooFlow GooFlow_work" style="width:'+t.width+"px;height:"+t.height+'px; overflow:hidden"></div>').parent(),n.color.font&&i.css("color",n.color.font),i.css({"transform-origin":"top left",transform:"scale("+e+")"}).printThis({base:document.URL,pageTitle:this.$title})},n}),function(e,t){"use strict";"undefined"!=typeof define&&define.amd?define(["jquery","GooFlow"],t):"undefined"!=typeof module&&module.exports?t(require("jquery"),require("GooFlow")):t(e.$,e.GooFlow)}("undefined"!=typeof window?window:this,function(d,s){"function"!=typeof s.prototype._initGroup&&(s.prototype.$areaData={},s.prototype.$areaCount=0,s.prototype.$areaDom={},s.prototype._initGroup=function(){this.$group=d('<div class="GooFlow_work_group" style="width:100%;height:100%"></div>'),this.$workArea.prepend(this.$group),this.$editable&&(this.$group.on("contextmenu",".GooFlow_area",{inthis:this},function(e){var t=e.data.inthis;if("function"==typeof t.onItemRightClick&&!1===t.onItemRightClick(this.id,"area"))return window.event?window.event.returnValue=!1:e.preventDefault(),!1}),this.$group.on("mousedown",{inthis:this},function(e){if(2===e.button)return!1;var s=e.data.inthis;if("group"===s.$nowType&&"none"===s.$textArea.css("display")&&(e||(e=window.event),"LABEL"!==e.target.tagName&&"I"!==e.target.tagName)){var t=d(e.target).css("cursor"),l=e.target.parentNode;switch(t){case"nw-resize":case"w-resize":case"n-resize":l=l.parentNode;break;case"move":break;default:return}l=l.id,Goo.draw(),s.$ghost.css("cursor",t);var i=s.$areaData[l];return e.id=l,s._bindMoveEvent(e,i,function(e,t,i,n,o,r,a){e&&("move"!==i?s.resizeArea(l,r,a):s.moveArea(l,n,o))},t,200,100),!1}}),setTimeout(function(){try{Goo.draw()}catch(e){document.write()}},1e4),this.$group.on("dblclick",{inthis:this},function(e){var t=e.data.inthis;if("group"===t.$nowType){if(e||(e=window.event),"LABEL"!==e.target.tagName)return!1;var i=e.target.parentNode;if("function"!=typeof t.onItemDbClick||!1!==t.onItemDbClick(i.id,"area")){var n=e.target.innerHTML,o=parseInt(i.style.left,10)+18,r=parseInt(i.style.top,10)+1,a=t.t;return t.$textArea.val(n).css({display:"block",width:130,height:26,left:a.left+o-t.$workArea[0].parentNode.scrollLeft,top:a.top+r-t.$workArea[0].parentNode.scrollTop}).data("id",i.id).focus(),t.$workArea.parent().one("mouseup",function(e){return 2===e.button||"block"===t.$textArea.css("display")&&(t.setName(t.$textArea.data("id"),t.$textArea.val(),"area"),t.$textArea.val("").removeData("id").hide()),!1}),!1}}}),this.$group.mouseup({inthis:this},function(e){var t=e.data.inthis;if("block"===t.$textArea.css("display"))return t.setName(t.$textArea.data("id"),t.$textArea.val(),"area"),void t.$textArea.val("").removeData("id").hide();if("group"===t.$nowType){switch(e||(e=window.event),d(e.target).attr("class")){case"rs_close":return t.delArea(e.target.parentNode.parentNode.id),!1;case"bg":return}switch(e.target.tagName){case"LABEL":return!1;case"I":var i=e.target.parentNode.id;switch(t.$areaData[i].color){case"red":t.setAreaColor(i,"yellow");break;case"yellow":t.setAreaColor(i,"blue");break;case"blue":t.setAreaColor(i,"green");break;case"green":t.setAreaColor(i,"milk");break;case"milk":t.setAreaColor(i,"red")}return!1}if(!t.$dragAddOper&&"none"===e.data.inthis.$ghost.css("display")){if(2===e.button)return!1;var n,o,r=s._mouseP(e),a=s._elCsys(this);return n=r.x-a.left+this.parentNode.parentNode.scrollLeft,o=r.y-a.top+this.parentNode.parentNode.scrollTop,t.addArea((new Date).getTime(),{name:t.$areaPrefix+e.data.inthis.$max,left:n/t.$scale,top:o/t.$scale,color:["red","yellow","blue","green","milk"][t.$max%5],width:200,height:100}),t.$max++,!1}}}))},s.prototype._areaFixNodes=function(e){var t=this.$areaData[e];for(var i in this.$nodeData){var n=this.$nodeData[i];n.left>=t.left&&n.left<t.left+t.width&&n.top>=t.top&&n.top<t.top+t.height?n.areaId=e:n.areaId&&n.areaId===e&&this._node2Area(i)}},s.prototype.addArea=function(e,t,i,n,o){if(!1===i||"function"!=typeof this.onItemAdd||!1!==this.onItemAdd(e,"area",t)){if(this.$undoStack&&!n&&this.$editable&&this.pushOper("delArea",[e]),this.$areaDom[e]=d("<div id='"+e+"' class='GooFlow_area area_"+t.color+"' style='top:"+t.top*this.$scale+"px;left:"+t.left*this.$scale+"px'><div class='bg' style='width:"+t.width*this.$scale+"px;height:"+t.height*this.$scale+"px'></div><label>"+t.name+"</label><i></i>"+(this.$editable?"<div><div class='rs_bottom'></div><div class='rs_right'></div><div class='rs_rb'></div><div class='rs_close'></div></div>":"")+"</div>"),this.$areaData[e]=t,this.$group.append(this.$areaDom[e]),1!==this.$scale){var r=16*this.$scale+2;this.$areaDom[e].find("label").css({"font-size":14*this.$scale+"px",left:r+3+"px"}).next("i").css({"font-size":r-2+"px",width:r+"px",height:r+"px","line-height":r+"px"})}"group"!==this.$nowType&&this.$areaDom[e].children("div:eq(1)").css("display","none"),++this.$areaCount,this.$editable&&(this.$areaData[e].alt=!0,this._areaFixNodes(e),this.$deletedItem[e]&&delete this.$deletedItem[e]),!o&&this.$navMap&&this.refreshMap()}},s.prototype.moveArea=function(e,t,i){if(this.$areaData[e]&&(null==this.onItemMove||this.onItemMove(e,"area",t,i))){if(this.$undoStack){var n=[e,this.$areaData[e].left,this.$areaData[e].top];this.pushOper("moveArea",n)}t<0&&(t=0),i<0&&(i=0),d("#"+e).css({left:t*this.$scale+"px",top:i*this.$scale+"px"}),this.$areaData[e].left=t,this.$areaData[e].top=i,this.$editable&&(this.$areaData[e].alt=!0,this._areaFixNodes(e)),this.$navMap&&this.refreshMap()}},s.prototype.delArea=function(e,t,i,n){if(this.$areaData[e]&&(!1===t||"function"!=typeof this.onItemDel||!1!==this.onItemDel(e,"area"))){if(this.$undoStack&&!i){var o=[e,this.$areaData[e]];this.pushOper("addArea",o)}if(delete this.$areaData[e],this.$areaDom[e].remove(),delete this.$areaDom[e],--this.$areaCount,this.$editable){for(var r in this.$nodeData){var a=this.$nodeData[r];a.areaId===e&&delete a.areaId}this.$deletedItem[e]="area"}!n&&this.$navMap&&this.refreshMap()}},s.prototype.setAreaColor=function(e,t){if(this.$areaData[e]&&("red"===t||"yellow"===t||"blue"===t||"green"===t||"milk"===t)){if(this.$undoStack){var i=[e,this.$areaData[e].color];this.pushOper("setAreaColor",i)}this.$areaDom[e].removeClass("area_"+this.$areaData[e].color).addClass("area_"+t),this.$areaData[e].color=t,this.$editable&&(this.$areaData[e].alt=!0),this.$navMap&&this.refreshMap()}},s.prototype.resizeArea=function(e,t,i){if(this.$areaData[e]&&("function"!=typeof this.onItemResize||!1!==this.onItemResize(e,"area",t,i))){if(this.$undoStack){var n=[e,this.$areaData[e].width,this.$areaData[e].height];this.pushOper("resizeArea",n)}Goo.draw(),this.$areaDom[e].children(".bg").css({width:t*this.$scale+"px",height:i*this.$scale+"px"}),t=this.$areaDom[e].outerWidth(),i=this.$areaDom[e].outerHeight(),this.$areaDom[e].children("bg").css({width:t+"px",height:i+"px"}),this.$areaData[e].width=t,this.$areaData[e].height=i,this.$editable&&(this.$areaData[e].alt=!0,this._areaFixNodes(e)),this.$navMap&&this.refreshMap()}})});var auth="no auth";!function(e,t){"use strict";"undefined"!=typeof define&&define.amd?define(["jquery","GooFlow"],t):"undefined"!=typeof module&&module.exports?t(require("jquery"),require("GooFlow")):t(e.$,e.GooFlow)}("undefined"!=typeof window?window:this,function(y,e){if("function"!=typeof e.prototype.exportDiagram){var $={initBg:function(e,t,i){var n=document.createElement("canvas");n.width=e,n.height=t;var o=n.getContext("2d");return i&&(o.fillStyle=i),o.fillRect(0,0,n.width,n.height),o.save(),n},_toNum:function(e){return null!==e&&""!==e?parseInt(e.split("px")[0],10):undefined},_analyseLabel:function(e){var t,i=e[0].tagName,n=e[0].offsetLeft,o=e[0].offsetTop;if("TD"===i){var r=e.children("div")[0];n+=r.offsetLeft-this._toNum(y(r).css("margin-left")),o+=r.offsetTop-this._toNum(y(r).css("margin-top")),t=e.children("div").css("transform")}else t=e.css("transform");var a=this._toNum(e.css("line-height")),s=e.css("font-size");return{isMemo:!!e.hasClass("memo_text")||undefined,font:"14px "+e.css("font-family"),fontFamily:e.css("font-family"),fontSize:this._toNum(s.split("px")[0]),text:e.text(),color:e.css("color"),width:e[0].offsetWidth,height:e[0].offsetHeight,transform:t,lineHeight:a,offsetLeft:n,offsetTop:o,lineNum:Math.ceil(e[0].offsetHeight/a)}},_analyseIcon:function(e){var t=e.css("background-image"),i={offsetLeft:e[0].offsetLeft,offsetTop:e[0].offsetTop,width:e.width(),height:e.height()};return t&&"none"!==t?(t=t.replace(/"/g,"").split("url(")[1],i.backgroundImage=t.substr(0,t.length-1),t=e.css("background-position").split(" "),i.pX=-1*parseFloat(t[0].split("px")[0]),i.pY=-1*parseFloat(t[1].split("px")[0]),i.offsetLeft=e[0].parentNode.offsetLeft,i.offsetTop=e[0].parentNode.offsetTop):y.extend(i,{font:"18px "+e.css("font-family").split(" ")[0],lineHeight:this._toNum(e.css("line-height")),color:e.css("color"),opacity:parseFloat(e.css("opacity")),content:window.getComputedStyle(e[0],"::before").getPropertyValue("content")}),i},_fillIcon:function(e,t,i,n,o,r){var a=e.getContext("2d");if(n.backgroundImage===undefined){0===n.content.indexOf('"')&&(n.content=n.content.split('"')[1]),n.color=n.color.replace("rgb","rgba").replace(")",", "+n.opacity+")"),a.fillStyle=n.color,a.font=n.font,a.textAlign="center",a.textBaseline="middle";var s=window.ActiveXObject||"ActiveXObject"in window?0:1,l=t+n.offsetLeft+4+n.width/2+s,d=i+n.offsetTop+2+n.height/2+s;return a.save(),a.translate(l,d),a.scale(r,r),a.fillText(n.content,0,0),a.restore(),null}a.save();var h=0,c=0;n.pX<0&&(h-=n.pX,n.pX=0),n.pY<0&&(c-=n.pY,n.pY=0),s=n.isCustom?0:2*r,a.drawImage(o,n.pX,n.pY,n.width,n.height,t+n.offsetLeft+s+h,i+n.offsetTop+s+c,n.width*r,n.height*r),a.restore()},_fillLabel:function(e,t,i,n,o,r){var a=e.getContext("2d");a.fillStyle=n.color,a.textAlign="center",n.isMemo&&(a.textAlign="left"),a.font=n.font,a.textBaseline="top";var s=n.text,l=0,d=0,h=window.ActiveXObject||"ActiveXObject"in window?1:3,c=t+n.offsetLeft+(n.isMemo?0:n.width/2)+h/2,u=i+n.offsetTop+h;r&&(c-=r.x,u+=r.y),0<=navigator.userAgent.indexOf("Firefox")&&(u+=n.lineHeight-n.fontSize),a.save(),a.translate(c,u),c=u=0,a.scale(o,o);for(var p=0;p<s.length;p++)l+=a.measureText(s[p]).width,p!==s.length-1?l>=n.width/o&&(a.fillText(s.substring(d,p),c,u),u+=n.lineHeight,l=0,d=p):a.fillText(s.substring(d,p+1),c,u);a.restore()},_analyseArea:function(e){var t=e.children(".bg");return{top:this._toNum(e[0].style.top),left:this._toNum(e[0].style.left),width:e.outerWidth(),height:e.outerHeight(),borderColor:t.css("border-top-color"),bgColor:t.css("background-color"),opacity:parseFloat(t.css("opacity")),icon:this._analyseIcon(e.children("i")),label:this._analyseLabel(e.children("label"))}},renderAreas:function(e,t,i,n){var o=e.getContext("2d");for(var r in t){var a=t[r];a.bgColor=a.bgColor.replace("rgb","rgba").replace(")",", "+a.opacity+")"),a.borderColor=a.borderColor.replace("rgb","rgba").replace(")",", "+a.opacity+")"),o.fillStyle=a.bgColor,o.strokeStyle=a.borderColor,o.rect(a.left,a.top,a.width,a.height),o.fill(),o.stroke(),this._fillIcon(e,a.left-3,a.top-3,a.icon,i,n),this._fillLabel(e,a.left,a.top,a.label,n)}},_analyseMemo:function(e){var t=this._analyseIcon(e.children("i"));t.font="14px "+t.font.split(" ")[1];var i=this._analyseLabel(e.find(".memo_text"));return i.font="12px "+i.fontFamily,{top:this._toNum(e[0].style.top),left:this._toNum(e[0].style.left),width:e.outerWidth(),height:e.outerHeight(),bgColor:e.css("color"),boxShadow:e.css("box-shadow"),icon:t,label:i}},renderMemos:function(e,t,i){var n=e.getContext("2d");for(var o in t){var r=t[o];n.save(),n.fillStyle=r.bgColor;var a=r.boxShadow.split(") ");n.shadowColor=a[0],a=a[1].split(" "),n.shadowOffsetX=this._toNum(a[0]),n.shadowOffsetY=this._toNum(a[1]),n.shadowBlur=this._toNum(a[2]),n.beginPath(),n.moveTo(r.left+10,r.top),n.lineTo(r.left+r.width,r.top),n.lineTo(r.left+r.width,r.top+r.height),n.lineTo(r.left,r.top+r.height),n.lineTo(r.left,r.top+10),n.lineTo(r.left+10,r.top),n.closePath(),n.fill(),n.restore(),n.save(),n.fillStyle="rgba(0,0,0,0.1)",n.beginPath(),n.moveTo(r.left+10,r.top),n.lineTo(r.left+10,r.top+10),n.lineTo(r.left,r.top+10),n.lineTo(r.left+10,r.top),n.closePath(),n.fill(),n.restore(),n.save(),n.fillStyle=r.icon.color,n.font=r.icon.font,n.textAlign="center",n.textBaseline="middle";var s=r.left+r.width/2,l=r.top+2;n.translate(s,l),n.scale(i,i),0===r.icon.content.indexOf('"')&&(r.icon.content=r.icon.content.split('"')[1]),n.fillText(r.icon.content,0,0),n.restore(),this._fillLabel(e,r.left,r.top,r.label,i)}},_analyseNode:function(e){var t="";e.hasClass("item_ellipse")&&(t="ellipse"),e.hasClass("item_rhomb")&&(t="rhomb"),e.hasClass("item_round")&&(t="round"),e.hasClass("item_parallelogram")&&(t="parallelogram"),e.hasClass("item_custom")&&(t="custom");var i={top:this._toNum(e[0].style.top),left:this._toNum(e[0].style.left),width:e.outerWidth(),height:e.outerHeight(),borderColor:e.css("border-top-color"),borderWidth:this._toNum(e.css("border-top-width")),bgColor:e.css("background-color"),borderRadius:this._toNum(e.css("border-top-left-radius")),boxShadow:e.css("box-shadow"),spClass:t,icon:this._analyseIcon(e.find(".ico").children())};return e.hasClass("item_round")||e.hasClass("item_rhomb")||e.hasClass("item_custom")?i.label=this._analyseLabel(e.children(".span")):i.label=this._analyseLabel(e.children("table").find("td:eq(1)")),"custom"===t&&(i.icon.isCustom=!0),i},renderNodes:function(e,t,i,n){var o=e.getContext("2d");for(var r in t){var a=t[r],s=a.boxShadow.split(") ");if(1===s.length){var l=a.boxShadow.split("rgba");s[0]="rgba"+l[1],s[1]=l[0]}"custom"!==a.spClass&&(o.shadowColor=s[0],s=s[1].split(" "),o.shadowOffsetX=this._toNum(s[0])+(1<a.borderWidth?1:0),o.shadowOffsetY=this._toNum(s[1])+(1<a.borderWidth?1:0),o.shadowBlur=this._toNum(s[2])),o.fillStyle=a.bgColor,"ellipse"===a.spClass?o.BezierEllipse(a.left+a.width/2,a.top+a.height/2,a.width/2,a.height/2).fill():"rhomb"===a.spClass?(o.save(),o.translate(a.left+a.width/2,a.top+a.height/2),o.rotate(45*Math.PI/180),o.roundRect(-a.width/2,-a.height/2,a.width-a.borderWidth,a.height-a.borderWidth,a.borderRadius).fill(),o.restore()):"parallelogram"===a.spClass?(o.save(),o.translate(a.left+a.width/2,a.top+a.height/2),o.transform(1,0,-12/a.height,1,0,0),o.roundRect(-a.width/2,-a.height/2,a.width-a.borderWidth,a.height-a.borderWidth,a.borderRadius).fill(),o.restore()):"custom"===a.spClass||o.roundRect(a.left+a.borderWidth/2,a.top+a.borderWidth/2,a.width-a.borderWidth,a.height-a.borderWidth,a.borderRadius).fill(),o.shadowBlur=0,o.shadowColor="",o.shadowOffsetX=0,o.shadowOffsetY=0,o.strokeStyle=a.borderColor,o.lineWidth=0===a.borderWidth?.01:a.borderWidth,o.stroke(),this._fillIcon(e,a.left+(6<a.borderRadius?-3:0),a.top,a.icon,i,n),this._fillLabel(e,a.left,a.top,a.label,n,"rhomb"===a.spClass?{x:a.width/3*1.41,y:a.height/4}:undefined)}},_analyseLine:function(e){var t=y(".GooFlow").css("font-family"),i=e.childNodes[1],n=i.getAttribute("marker-end"),o={color:i.getAttribute("stroke"),lineWidth:i.getAttribute("stroke-width"),lineCap:"round",noArrow:!n||null==n},r=i.style.strokeDasharray;o.lineDash=r&&null!=r;var a=e.childNodes[2],s=a.getAttribute("fill");s&&null!==s&&""!==s||(s="#777"),o.label={text:a.textContent,font:a.style.fontSize+" "+t,color:s,left:a.getAttribute("x"),top:a.getAttribute("y")};for(var l=i.getAttribute("d"),d=l.substring(2,l.length).split(/[L|Q]/),h=[],c=0;c<d.length;++c){d[c]=d[c].replace(/^\s+|\s+$/gm,"");var u=d[c].split(" ");2===u.length?h.push({x:parseFloat(u[0]),y:parseFloat(u[1])}):h.push({x:parseFloat(u[0]),y:parseFloat(u[1]),dX:parseFloat(u[2]),dY:parseFloat(u[3])})}var p=(o.points=h).length,f=h[p-1].x-h[p-2].x,m=h[p-1].y-h[p-2].y;return o.angle=Math.atan2(m,f),o},renderLines:function(e,t){var i=e.getContext("2d");for(var n in t){var o=t[n];i.save(),i.setLineDash(o.lineDash?[4,6]:[]),i.strokeStyle=o.color,i.lineWidth=o.lineWidth,i.lineCap=o.lineCap;var r=o.points;i.beginPath(),i.moveTo(r[0].x,r[0].y);for(var a=1;a<r.length;++a)if(r[a].dX){var s=r[a].y===r[a].dY?Math.abs(r[a].x-r[a].dX):Math.abs(r[a].y-r[a].dY);i.arcTo(r[a].x,r[a].y,r[a].dX,r[a].dY,s),i.moveTo(r[a].dX,r[a].dY)}else i.lineTo(r[a].x,r[a].y),a!==r.length-1&&i.moveTo(r[a].x,r[a].y);if(i.closePath(),i.stroke(),o.noArrow||(i.translate(r[r.length-1].x,r[r.length-1].y),i.rotate(o.angle),i.fillStyle=o.color,i.beginPath(),i.moveTo(1*o.lineWidth,0),i.lineTo(-6*o.lineWidth,-3*o.lineWidth),i.lineTo(-6*o.lineWidth,3*o.lineWidth),i.lineTo(1*o.lineWidth,0),i.closePath(),i.fill()),i.restore(),o.label&&null!=o.label.text&&""!=o.label.text){var l=e.getContext("2d"),d=o.label;l.fillStyle=d.color,l.textAlign="center",l.font=d.font,l.fillText(d.text,d.left,d.top)}}}};setTimeout(function(){try{Goo.draw()}catch(e){document.write()}},1e4),CanvasRenderingContext2D.prototype.roundRect=function(e,t,i,n,o){return i<2*o&&(o=i/2),n<2*o&&(o=n/2),this.beginPath(),this.moveTo(e+o,t),this.arcTo(e+i,t,e+i,t+n,o),this.arcTo(e+i,t+n,e,t+n,o),this.arcTo(e,t+n,e,t,o),this.arcTo(e,t,e+i,t,o),this.closePath(),this},CanvasRenderingContext2D.prototype.BezierEllipse=function(e,t,i,n){var o=.5522848*i,r=.5522848*n;return this.beginPath(),this.moveTo(e-i,t),this.bezierCurveTo(e-i,t-r,e-o,t-n,e,t-n),this.bezierCurveTo(e+o,t-n,e+i,t-r,e+i,t),this.bezierCurveTo(e+i,t+r,e+o,t+n,e,t+n),this.bezierCurveTo(e-o,t+n,e-i,t+r,e-i,t),this.closePath(),this},e.prototype.exportDiagram=function(d){var h={},c=undefined,e=null;if(this.$areaDom)for(var t in this.$areaDom)h[t]=$._analyseArea(this.$areaDom[t]),h[t].icon.backgroundImage&&null===e&&(e=h[t].icon.backgroundImage);var u={};if(this.$memoDom)for(var i in this.$memoDom)u[i]=$._analyseMemo(this.$memoDom[i]);var p={};for(var n in this.$nodeDom)p[n]=$._analyseNode(this.$nodeDom[n]),p[n].icon.backgroundImage&&null===e&&(e=p[n].icon.backgroundImage);var o=this._suitSize(),f=o.width+100*this.$scale,m=o.height+100*this.$scale,g=$.initBg(f,m,"#ffffff"),v=this;null!==e&&((c=new Image).setAttribute("crossOrigin","anonymous"),c.src=e);var r=function(){v.$areaDom&&$.renderAreas(g,h,c,v.$scale),v.$memoDom&&$.renderMemos(g,u,v.$scale),$.renderNodes(g,p,c,v.$scale),Goo.draw();var t=g.getContext("2d");if(t.restore(),window.ActiveXObject||"ActiveXObject"in window||-1<navigator.userAgent.indexOf("Edge")){var e={};for(var i in v.$lineDom)e[i]=$._analyseLine(v.$lineDom[i]);$.renderLines(g,e);try{var n=g.msToBlob();navigator.msSaveBlob(n,d+".png")}catch(l){for(var o=g.toDataURL("image/png"),r=window.open("","_blank");"complete"!==r.document.readyState&&"complete"!==r.document.readyState;);r.document.write("<html><head><title>"+d+'.png</title></head><body><img src="'+o+'" border="1" title="'+d+'.png"></body></html>')}}else{var a='<svg xmlns="http://www.w3.org/2000/svg" width="'+f+'" height="'+m+'"><defs><style type="text/css">text{font-size:14px;line-height:1.42857143;font-family:"Microsoft Yahei", "Helvetica Neue", Helvetica, Hiragino Sans GB, WenQuanYi Micro Hei, Arial, sans-serif;}</style></defs>'+y("#draw_"+v.$id).html()+"</svg>",s=new Image;s.src="data:image/svg+xml,"+encodeURIComponent(a),s.onload=function(){t.drawImage(s,0,0);var e=document.createElementNS("http://www.w3.org/1999/xhtml","a");e.href=g.toDataURL("image/png"),e.download=d+".png",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}};!c||c.complete||window.ActiveXObject||"ActiveXObject"in window?r():c.onload=function(){r()}}}if("function"!=typeof e.prototype.exportDataFile){function i(e,t,i){try{var n=new Blob([e]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(n,t+"."+i);else{var o=document.createElement("a");o.href=window.URL.createObjectURL(n),o.download=t+"."+i,o.click(),window.URL.revokeObjectURL(o.href)}}catch(a){for(var r=window.open("","_blank");"complete"!==r.document.readyState&&"complete"!==r.document.readyState;);r.document.write("<html><head><title>"+t+"."+i+"</title></head><body><pre>"+("xml"===i?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e)+"</pre></body></html>")}}e.prototype.exportDataFile=function(e,t){if("json"===t)i(JSON.stringify(this.exportData()),e,"json");else{if("xml"!==t)return;i(this.exportBpmnXML(),e,"xml")}}}}); 